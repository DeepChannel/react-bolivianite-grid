webpackJsonp([1],[,,,function(e,r,t){"use strict";function n(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),n(t(39)),n(t(222)),n(t(79)),n(t(231)),n(t(232)),n(t(233)),n(t(80)),n(t(17));var o=t(79);r.default=o.Grid},function(e,r,t){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e};Object.defineProperty(r,"__esModule",{value:!0});var o=n({},{classNameGrid:"demo-grid",classNameScrollView:"scrollview",styleGridColumns:{background:"#363944",boxShadow:"0 0 5px #000",color:"#DBDADD"},styleGridRows:{background:"#363944",boxShadow:"0 0 5px #000",color:"#DBDADD"},styleGridCorner:{borderRight:"solid 1px #4d5160",borderBottom:"solid 1px #4d5160",background:"#363944",color:"#DBDADD",boxSizing:"border-box"}},{cellBackgroundEven:"#EFEFEF",cellBackgroundOdd:"#FFFFFF",headerBorderColor:"#4d5160",headerBackgroundColorSelected:"#24262d",selectionBackground:"rgba(1, 9, 40, 0.2)",selectionBackgroundActive:"transparent",selectionBorder:"solid 1px #24262d",selectionBorderActive:"solid 2px #24262d",resizer:{background:"var(--color--accent)",opacity:.5},resizerChangeV:{boxSizing:"border-box",borderLeft:"solid 2px var(--color--accent)",borderRight:"solid 2px var(--color--accent)"},resizerChangeH:{boxSizing:"border-box",borderTop:"solid 2px var(--color--accent)",borderBottom:"solid 2px var(--color--accent)"},cellStyle:{boxSizing:"border-box",borderRight:"solid 1px #BFBFBF",borderBottom:"solid 1px #BFBFBF",padding:"0 3px",display:"flex",alignItems:"center",color:"#211E26",overflow:"hidden",whiteSpace:"nowrap",cursor:"default"},headerStyle:{boxSizing:"border-box",borderRight:"solid 1px transparent",borderBottom:"solid 1px transparent",padding:3,display:"flex",alignItems:"center",overflow:"hidden",fontWeight:"bold"}});r.default=o},,,,function(e,r,t){"use strict";function n(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),n(t(132)),n(t(135)),n(t(59)),n(t(137)),n(t(142)),n(t(219))},,,,,,,,,function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e){e[e.Row=1]="Row",e[e.Column=2]="Column"}(r.HeaderType||(r.HeaderType={}))},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(234),s=t(3),a=t(44),l=t(4),d=function(e){function r(r,t){var n=e.call(this,r,t)||this;return n._cpb=new s.ClipboardController({renderHeader:function(e){var r=e.header,t=e.type;return n.getHeaderCaption(r,t)},renderCell:function(e){var r=e.cell,t=e.data,o=e.repository,i=o.rows[r.row],s=o.columns[r.column];return n.getValue(i,s,t)},clipboardParser:function(e){var r=e.getData("Text")||"";return i.parse(r,{delimiter:"\t"}).data||[]},cellParser:function(e){return e.value},onInvalidSelection:function(){alert("Impossible to copy current selection.")},onCopy:function(e){var r=e.table,t=e.focus,n=i.unparse(r,{delimiter:"\t"}),o=document.createElement("textarea");o.style.position="fixed",o.style.top="200vh",o.value=n,document.body.appendChild(o),o.select();var s=document.execCommand("Copy");document.body.removeChild(o),t(),s||alert("Failed to copy current selection.")},onPaste:function(e){var r=e.changes,t=n.currentState,o=t.data,i=t.repository;o=new Map(o),r.forEach(function(e){var r=e.column,t=e.row,s=e.value;i.rows[t]&&i.columns[r]&&o.set(n.getDataKey(t,r),s)}),n.pushHistory({data:o,repository:i})}}),n}return n(r,e),r.prototype.renderGrid=function(){var e=this.currentState,r=e.data,t=e.repository;return o.createElement(s.default,{repository:t,overscanRows:3,data:r,theme:l.default,onRenderCell:this.renderCell,onRenderHeader:this.renderHeader,onRenderSelection:this.renderSelection,onRenderEditor:this.editorRenderer,onNullify:this.onNullify,onUpdate:this.onUpdate,onCopy:this._cpb.onCopy,onPaste:this._cpb.onPaste})},r}(a.default);r.default=d},,,,,,,function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(3),s=t(40),a=t(4),l=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.autoMeasure=function(e){var t=e.cells,n=e.headers,o=e.callback,i=e.data,s=document.createElement("canvas").getContext("2d"),a=getComputedStyle(document.body),l=a.getPropertyValue("--app--font-family"),d=a.getPropertyValue("--app--font-size");s.font=d+" "+l;var c=t.map(function(e){var t=e.column,n=e.row,o=e.columnHeader,a=e.rowHeader,l=r.getValue(a,o,i);return null==l||""===l?null:{row:n,column:t,height:0,width:s.measureText(String(l)).width+10}}),p=r.currentState.repository.headersHeight;o({cells:c,headers:n.map(function(e){var t=e.header,n=e.type;return{header:t,width:r.measureHeader(t,n,s)+10,height:p}})})},r}return n(r,e),r.prototype.measureHeader=function(e,r,t){var n=this.getHeaderCaption(e,r);return t.measureText(String(n)).width},r.prototype.renderGrid=function(){var e=this.currentState,r=e.data,t=e.repository;return o.createElement(i.default,{repository:t,overscanRows:3,data:r,theme:a.default,onRenderCell:this.renderCell,onRenderHeader:this.renderHeader,onRenderSelection:this.renderSelection,onRenderEditor:this.editorRenderer,onNullify:this.onNullify,onUpdate:this.onUpdate,onCopy:this._cpb.onCopy,onPaste:this._cpb.onPaste,onRenderResizer:this.renderResizer,onHeaderResize:this.resizeHeaders,onAutoMeasure:this.autoMeasure})},r}(s.default);r.default=l},,,,,,,,,,,,,function(e,r){e.exports="import { IGridTheme } from 'react-bolivianite-grid';\r\n\r\nconst REQUIRED_THEME: IGridTheme = {\r\n    classNameGrid: 'demo-grid',\r\n    classNameScrollView: 'scrollview',\r\n    styleGridColumns: {\r\n        background: '#363944',\r\n        boxShadow: '0 0 5px #000',\r\n        color: '#DBDADD'\r\n    },\r\n    styleGridRows: {\r\n        background: '#363944',\r\n        boxShadow: '0 0 5px #000',\r\n        color: '#DBDADD'\r\n    },\r\n    styleGridCorner: {\r\n        borderRight: 'solid 1px #4d5160',\r\n        borderBottom: 'solid 1px #4d5160',\r\n        background: '#363944',\r\n        color: '#DBDADD',\r\n        boxSizing: 'border-box'\r\n    }\r\n};\r\n\r\nconst THEME = {\r\n    ...REQUIRED_THEME,\r\n\r\n    // Custom grid theme properties\r\n    cellBackgroundEven: '#EFEFEF',\r\n    cellBackgroundOdd: '#FFFFFF',\r\n    headerBorderColor: '#4d5160',\r\n    headerBackgroundColorSelected: '#24262d',\r\n    selectionBackground: 'rgba(1, 9, 40, 0.2)',\r\n    selectionBackgroundActive: 'transparent',\r\n    selectionBorder: 'solid 1px #24262d',\r\n    selectionBorderActive: 'solid 2px #24262d',\r\n    resizer: {\r\n        background: 'var(--color--accent)',\r\n        opacity: 0.5\r\n    },\r\n    resizerChangeV: {\r\n        boxSizing: 'border-box',\r\n        borderLeft: 'solid 2px var(--color--accent)',\r\n        borderRight: 'solid 2px var(--color--accent)'\r\n    },\r\n    resizerChangeH: {\r\n        boxSizing: 'border-box',\r\n        borderTop: 'solid 2px var(--color--accent)',\r\n        borderBottom: 'solid 2px var(--color--accent)'\r\n    },\r\n    cellStyle: {\r\n        boxSizing: 'border-box',\r\n        borderRight: `solid 1px #BFBFBF`,\r\n        borderBottom: `solid 1px #BFBFBF`,\r\n        padding: '0 3px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        color: '#211E26',\r\n        overflow: 'hidden',\r\n        whiteSpace: 'nowrap',\r\n        cursor: 'default'\r\n    } as React.CSSProperties,\r\n    headerStyle: {\r\n        boxSizing: 'border-box',\r\n        borderRight: `solid 1px transparent`,\r\n        borderBottom: `solid 1px transparent`,\r\n        padding: 3,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        overflow: 'hidden',\r\n        fontWeight: 'bold'\r\n    } as React.CSSProperties\r\n};\r\n\r\nexport default THEME;\r\n"},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n="Mac"===navigator.platform.slice(0,3),o=function(){function e(e){this._props=e,this._state=null}return e.prototype._getModifiers=function(e){var r=e.ctrlKey,t=e.altKey,o=e.shiftKey,i=e.getModifierState("Meta");return{ctrlKey:r,macCmdKey:i,cmdKey:n?i:r,shiftKey:o,altKey:t}},e.prototype._clampAddress=function(e){var r=e.column,t=e.row,n=this._state,o=n.rows,i=n.columns;return{column:Math.min(Math.max(0,r),i-1),row:Math.min(Math.max(0,t),o-1)}},e.prototype._splitSelection=function(e){var r=e.slice();return{prev:r,last:r.pop()}},e.prototype._getSelectedCells=function(e){for(var r=new Set,t=[],n=0,o=e;n<o.length;n++)for(var i=o[n],s=i.column,a=i.row,l=i.height,d=i.width,c=a,p=a+l;c<=p;c++)for(var u=s,h=s+d;u<=h;u++){var f=c+"x"+u;r.has(f)||(r.add(f),t.push({row:c,column:u}))}return t},e.prototype._isInsideSelection=function(e,r){var t=e.column,n=e.row;return-1!==r.findIndex(function(e){var r=e.row,o=e.column,i=e.height,s=e.width;return r<=n&&n<=r+i&&o<=t&&t<=o+s})},e.prototype._request=function(){return this._state=this._props.getState()},e}();r.Controller=o},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e};Object.defineProperty(r,"__esModule",{value:!0});var i=t(0),s=t(3),a=t(18),l=t(4),d=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderResizer=function(e){var r=e.style,t=e.theme,n=e.resizer,s=e.orientation;return i.createElement("div",{style:o({},r,"initial"===n?t.resizer:"horizontal"===s?t.resizerChangeH:t.resizerChangeV)})},r.resizeHeaders=function(e){var t=e.headers,n=e.levels,o=e.behavior,i=r.currentState,a=i.repository;t&&(a=a.resizeHeaders({behavior:o,headers:t,clamp:function(e){var r=e.type,t=e.size;return Math.max(t,r===s.HeaderType.Column?30:24)}})),n&&(a=a.resizeLevels({behavior:o,levels:n.map(function(e){var r=e.level,t=e.size,n=e.type;return{type:n,level:r,size:t,min:n===s.HeaderType.Column?25:30}})})),i.repository!==a&&r.pushHistory({repository:a},"auto"===o)},r}return n(r,e),r.prototype.renderAdditionalHeaderContent=function(e){var r=e.header;return i.createElement(s.Resizer,{header:r})},r.prototype.renderGrid=function(){var e=this.currentState,r=e.data,t=e.repository;return i.createElement(s.default,{repository:t,overscanRows:3,data:r,theme:l.default,onRenderCell:this.renderCell,onRenderHeader:this.renderHeader,onRenderSelection:this.renderSelection,onRenderEditor:this.editorRenderer,onNullify:this.onNullify,onUpdate:this.onUpdate,onCopy:this._cpb.onCopy,onPaste:this._cpb.onPaste,onRenderResizer:this.renderResizer,onHeaderResize:this.resizeHeaders})},r}(a.default);r.default=d},,,,function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e};Object.defineProperty(r,"__esModule",{value:!0});var i=t(0),s=t(51),a=t(3),l=t(4),d=t(45),c=t(89),p="Mac"===navigator.platform.slice(0,3),u=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r._isMounted=!0,r.state={history:[{data:new Map,repository:r.generateRepository(200,200)}],index:0},r.undo=function(){r.state.index&&r.setState({index:r.state.index-1})},r.redo=function(){r.state.index!==r.state.history.length-1&&r.setState({index:r.state.index+1})},r.onKeyDown=function(e){var t=r.getModifiers(e),n=t.cmdKey,o=t.shiftKey,i=e.target;if(n&&(!i||"INPUT"!==i.tagName))switch(e.keyCode){case 89:p||(e.preventDefault(),r.redo());break;case 90:e.preventDefault(),p&&o?r.redo():r.undo()}},r.renderCell=function(e){var t=e.style,n=e.row,s=e.data,a=e.rowHeader,l=e.columnHeader,d=e.theme;return i.createElement("div",{style:o({},t,d.cellStyle,{background:n%2?d.cellBackgroundEven:d.cellBackgroundOdd})},r.getValue(a,l,s))},r.renderHeader=function(e){var t=e.style,n=e.type,s=e.selection,l=e.theme,d=e.header,c=o({},t,l.headerStyle);switch(n){case a.HeaderType.Row:c.borderBottomColor=l.headerBorderColor;break;case a.HeaderType.Column:c.borderRightColor=l.headerBorderColor}return s&&(c.background=l.headerBackgroundColorSelected),c.justifyContent=n===a.HeaderType.Row?"flex-end":"center",i.createElement("div",{style:c},r.getHeaderCaption(d,n),r.renderAdditionalHeaderContent(e))},r.renderSelection=function(e){var r=e.key,t=e.style,n=e.active,s=e.edit,a=e.theme;return t.left=Number(t.left)-1,t.top=Number(t.top)-1,t.width=Number(t.width)+1,t.height=Number(t.height)+1,i.createElement("div",{key:r,style:o({},t,{boxSizing:"border-box",backgroundColor:n||s?a.selectionBackgroundActive:a.selectionBackground,border:n?a.selectionBorderActive:a.selectionBorder})})},r.editorRenderer=function(e){var t=e.style,n=e.update,s=e.data,a=e.rowHeader,l=e.columnHeader,c=r.getValue(a,l,s);return i.createElement("div",{style:o({},t,{boxSizing:"border-box",padding:"0 3px",display:"flex",alignItems:"center"})},i.createElement(d.default,{initialValue:c,update:n}))},r.onNullify=function(e){var t=e.cells,n=new Map(r.currentState.data);t.forEach(function(e){var t=e.column,o=e.row;n.set(r.getDataKey(o,t),null)}),r.pushHistory({data:n})},r.onUpdate=function(e){var t=e.cell,n=e.value,o=r.getDataKey(t.row,t.column),i=new Map(r.currentState.data);i.set(o,n),r.pushHistory({data:i})},r}return n(r,e),Object.defineProperty(r.prototype,"currentState",{get:function(){return this.state.history[this.state.index]},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canUndo",{get:function(){return this.state.index},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"canRedo",{get:function(){var e=this.state.history.length;return e&&this.state.index!==e-1},enumerable:!0,configurable:!0}),r.prototype.pushHistory=function(e,r){if(void 0===r&&(r=!1),this._isMounted){var t=this.state.index,n=this.state.history[t],i=r?0:1;this.setState({index:t+i,history:this.state.history.slice(0,t+i).concat([o({},n,e)])})}},r.prototype.getModifiers=function(e){var r=e.ctrlKey,t=e.altKey,n=e.shiftKey,o=e.getModifierState("Meta");return{ctrlKey:r,macCmdKey:o,cmdKey:p?o:r,shiftKey:n,altKey:t}},r.prototype.renderAdditionalControls=function(){return null},r.prototype.renderControls=function(){return this.props.refControls?s.createPortal(i.createElement(i.Fragment,null,i.createElement("button",{className:c.historyButton,onClick:this.undo,disabled:!this.canUndo},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}))),i.createElement("button",{className:c.historyButton,onClick:this.redo,disabled:!this.canRedo},i.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},i.createElement("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}))),this.renderAdditionalControls()),this.props.refControls):null},r.prototype.generateRepository=function(e,r){var t=new Array(r).fill(null).map(function(e,r){return{colIndex:r}}),n=new Array(e).fill(null).map(function(e,r){return{rowIndex:r}});return new a.HeaderRepository({columns:t,rows:n,columnWidth:100,rowHeight:24,headersHeight:24,headersWidth:50})},r.prototype.getDataKey=function(e,r){var t=this.currentState.repository;return("number"==typeof e?t.rows[e].rowIndex:e.rowIndex)+" x "+("number"==typeof r?t.columns[r].colIndex:r.colIndex)},r.prototype.getValue=function(e,r,t){var n=this.getDataKey(e,r),o=t.get(n);return void 0===o?n:o},r.prototype.getHeaderCaption=function(e,r){return e.caption?e.caption:r===a.HeaderType.Column?this.excelIndex(e.colIndex):e.rowIndex+1},r.prototype.excelIndex=function(e){e++;for(var r="",t=1,n=26;(e-=t)>=0;t=n,n*=26)r=String.fromCharCode(65+~~(e%n/t))+r;return r},r.prototype.renderAdditionalHeaderContent=function(e){return null},r.prototype.renderGrid=function(){var e=this.currentState,r=e.data,t=e.repository;return i.createElement(a.default,{repository:t,overscanRows:3,data:r,theme:l.default,onRenderCell:this.renderCell,onRenderHeader:this.renderHeader,onRenderSelection:this.renderSelection,onRenderEditor:this.editorRenderer,onNullify:this.onNullify,onUpdate:this.onUpdate})},r.prototype.componentWillUnmount=function(){this._isMounted=!1},r.prototype.render=function(){return i.createElement("div",{className:c.exampleContainer,onKeyDown:this.onKeyDown},this.renderControls(),this.renderGrid())},r}(i.Component);r.default=u},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.state={value:null==r.props.initialValue?"":r.props.initialValue},r._onRef=function(e){r._ref=e},r}return n(r,e),r.prototype.componentDidMount=function(){this._ref&&(this._ref.focus(),this._ref.select())},r.prototype.componentWillUnmount=function(){this.state.value!==this.props.initialValue&&this.props.update(this.state.value)},r.prototype.render=function(){var e=this;return o.createElement("input",{ref:this._onRef,style:{width:"100%",height:"100%",padding:0,margin:0,border:0,background:"transparent",outline:"none",fontFamily:"var(--app--font-family)",fontSize:"var(--app--font-size)"},value:this.state.value,onChange:function(r){e.setState({value:r.target.value})}})},r}(o.PureComponent);r.Editor=i,r.default=i},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e};Object.defineProperty(r,"__esModule",{value:!0});var i=t(0),s=t(3),a=t(25),l=t(4),d=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.state={history:[{data:new Map,repository:new s.HeaderRepository({columns:r.getHeaderTree("C",4,4,4),rows:r.getHeaderTree("R",10,4,2),columnWidth:100,rowHeight:24,headersHeight:24,headersWidth:60})}],index:0},r.renderHeader=function(e){var t=e.style,n=e.type,a=e.selection,l=e.viewIndex,d=e.header,c=e.theme,p=o({},t,c.headerStyle);switch(n){case s.HeaderType.Row:p.borderBottomColor=c.headerBorderColor,null==l&&(p.borderRightColor=c.headerBorderColor);break;case s.HeaderType.Column:p.borderRightColor=c.headerBorderColor,null==l&&(p.borderBottomColor=c.headerBorderColor)}return a&&(p.background=c.headerBackgroundColorSelected),null!=l?p.justifyContent=n===s.HeaderType.Row?"flex-end":"center":(p.justifyContent="flex-start",p.alignItems="flex-start"),i.createElement("div",{style:p},r.getHeaderCaption(d,n),i.createElement(s.Resizer,{header:d}))},r}return n(r,e),r.prototype.generateList=function(e,r,t,n){return new Array(r).fill(null).map(function(r){var o;t.c=(t.c||0)+1;var i=e+" ("+t.c+")";return(o={caption:i,$children:n?n():null})["C"===e[0]?"colIndex":"rowIndex"]=i,o})},r.prototype.getHeaderTree=function(e,r,t,n){var o=this,i={},s={};return this.generateList(e+"1",r,{},function(){return o.generateList(e+"2",t,i,function(){return o.generateList(e+"3",n,s)})})},r.prototype.renderGrid=function(){var e=this.currentState,r=e.data,t=e.repository;return i.createElement(s.default,{repository:t,overscanRows:3,data:r,theme:l.default,onRenderCell:this.renderCell,onRenderHeader:this.renderHeader,onRenderSelection:this.renderSelection,onRenderEditor:this.editorRenderer,onNullify:this.onNullify,onUpdate:this.onUpdate,onCopy:this._cpb.onCopy,onPaste:this._cpb.onPaste,onRenderResizer:this.renderResizer,onHeaderResize:this.resizeHeaders,onAutoMeasure:this.autoMeasure})},r}(a.default);r.default=d},,,,,,,,,,,,function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(13),s=t(20),a=t(8),l=t(249),d=t(20),c=t(254),p=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.state={menuOpened:!1},r._toggleMenu=function(){r.setState({menuOpened:!r.state.menuOpened})},r._hideMenu=function(){r.setState({menuOpened:!1})},r}return n(r,e),r.prototype._renderNavigation=function(){var e,r=this,t=this.props.source;return o.createElement("nav",{className:i(c.navigation,(e={},e[c.navigationOpened]=this.state.menuOpened,e))},t.map(function(e){if(!e.url)return null;var t="/"+e.url;return e.isGroup?o.createElement("div",{key:t},e.caption):o.createElement(s.NavLink,{exact:!0,to:t,key:t,onClick:r._hideMenu},o.createElement("span",{style:{"--nav-deep":e.deep}},e.caption))}))},r.prototype._renderRoutes=function(){var e=this;return this.props.source.map(function(r){var t;if(r.isGroup)return null;var n="/"+r.url;return o.createElement(d.Route,{exact:!0,path:n,key:n},o.createElement("article",{className:i(c.articleBody,(t={},t[c.articleBlur]=e.state.menuOpened,t))},o.createElement(a.Markdown,{className:c.articleChunk,source:r.body})))})},r.prototype.componentDidUpdate=function(e){if(this.props.location!==e.location){var r=this.props.location.hash;if(r){var t=document.body.querySelectorAll('a[name="'+r.slice(1)+'"]')[0];t&&t.scrollIntoView()}else window.scrollTo({top:0})}},r.prototype.render=function(){var e,r;return o.createElement(o.Fragment,null,o.createElement(a.Toolbar,null,o.createElement("div",null,o.createElement("div",{className:i(c.menu,(e={},e[c.menuOpened]=this.state.menuOpened,e))},o.createElement(l.MenuIcon,{onClick:this._toggleMenu})),o.createElement(s.NavLink,{exact:!0,to:"/",onClick:this._hideMenu,title:"Home"},o.createElement(l.HomeIcon,null)),o.createElement("a",{target:"blank",href:"https://github.com/papasnippy/react-bolivianite-grid",title:"GitHub page"},o.createElement(l.GitHubIcon,{size:20})),o.createElement("a",{target:"blank",href:"https://github.com/papasnippy/react-bolivianite-grid/issues",title:"Issues"},o.createElement(l.IssuesIcon,null)))),o.createElement("main",{className:c.main},o.createElement(a.AppMaxWidth,{classNameLayer:c.content},this._renderNavigation(),o.createElement(d.Switch,null,this._renderRoutes(),o.createElement(d.Route,null,o.createElement("div",{className:i(c.articleBody,(r={},r[c.articleBlur]=this.state.menuOpened,r))},o.createElement("div",null,"Page not found.")))))),o.createElement("footer",{className:c.footer},o.createElement(a.AppMaxWidth,{classNameLayer:c.footerContent})))},r}(o.Component);r.default=s.withRouter(p)},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(13),s=t(134),a=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),r.prototype.render=function(){return o.createElement("div",{className:i(s.root,this.props.className)},o.createElement("div",{className:i(s.layer,this.props.classNameLayer)},this.props.children))},r}(o.PureComponent);r.AppMaxWidth=a},,,,,,,,function(e,r,t){var n={"./autosizing-grid":68,"./autosizing-grid.tsx":68,"./copy-paste-grid":69,"./copy-paste-grid.tsx":69,"./editable-grid":70,"./editable-grid.tsx":70,"./expand-collapse-grid":71,"./expand-collapse-grid.tsx":71,"./filtering-grid":72,"./filtering-grid.tsx":72,"./grouped-headers-grid":73,"./grouped-headers-grid.tsx":73,"./readonly-grid":74,"./readonly-grid.tsx":74,"./repository-cache":75,"./repository-cache.tsx":75,"./resizing-grid":76,"./resizing-grid.tsx":76,"./simple-editor":77,"./simple-editor.tsx":77,"./simple-grid":78,"./simple-grid.tsx":78,"./style":38,"./style.scss":218,"./style.ts":38};function o(e){return t(i(e))}function i(e){var r=n[e];if(!(r+1))throw new Error("Cannot find module '"+e+"'.");return r}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=67},function(e,r){e.exports="import * as React from 'react';\r\nimport Grid, {\r\n    ICellsMeasureEvent, ICellMeasureResult, HeaderType, IHeader\r\n} from 'react-bolivianite-grid';\r\nimport ResizingGrid from './resizing-grid';\r\nimport Theme from './style';\r\n\r\nexport default class extends ResizingGrid {\r\n    measureHeader(header: IHeader, type: HeaderType, ctx: CanvasRenderingContext2D) {\r\n        const text = this.getHeaderCaption(header, type);\r\n        return ctx.measureText(String(text)).width;\r\n    }\r\n\r\n    /**\r\n     * I use this method to get text width by providing known text style.\r\n     * Unfortunately, there is no method to get exact cell's size really fast.\r\n     * You can render full cell component and get it's rendered size,\r\n     * but it can take a lot of time when you will try to measure a lot of cells.\r\n     * So, implementing auto measuring is up to you. In excel like spreadsheets this\r\n     * method very fast and it is enough in many cases.\r\n     */\r\n    autoMeasure = ({ cells, headers, callback, data }: ICellsMeasureEvent) => {\r\n        const ctx = document.createElement('canvas').getContext('2d');\r\n\r\n        // Get font style from global CSS variables\r\n        const bodyStyle = getComputedStyle(document.body);\r\n        const fontStyle = bodyStyle.getPropertyValue('--app--font-family');\r\n        const fontSize = bodyStyle.getPropertyValue('--app--font-size');\r\n        ctx.font = `${fontSize} ${fontStyle}`;\r\n\r\n        const measuredCells = cells.map(({ column, row, columnHeader, rowHeader }) => {\r\n            const value = this.getValue(rowHeader, columnHeader, data);\r\n\r\n            if (value == null || value === '') {\r\n                return null;\r\n            }\r\n\r\n            return {\r\n                row: row,\r\n                column: column,\r\n                height: 0,\r\n                width: ctx.measureText(String(value)).width + 10\r\n            } as ICellMeasureResult;\r\n        });\r\n\r\n        const height = this.currentState.repository.headersHeight; // default row height\r\n        const measuredLevels = headers.map(({ header, type }) => {\r\n            const width = this.measureHeader(header, type, ctx) + 10;\r\n\r\n            return {\r\n                header, width, height\r\n            };\r\n        });\r\n\r\n        callback({ cells: measuredCells, headers: measuredLevels });\r\n    }\r\n\r\n    renderGrid() {\r\n        const { data, repository } = this.currentState;\r\n        return (\r\n            <Grid\r\n                repository={repository}\r\n                overscanRows={3}\r\n                data={data}\r\n                theme={Theme}\r\n                onRenderCell={this.renderCell}\r\n                onRenderHeader={this.renderHeader}\r\n                onRenderSelection={this.renderSelection}\r\n                onRenderEditor={this.editorRenderer}\r\n                onNullify={this.onNullify}\r\n                onUpdate={this.onUpdate}\r\n                onCopy={this._cpb.onCopy}\r\n                onPaste={this._cpb.onPaste}\r\n                onRenderResizer={this.renderResizer}\r\n                onHeaderResize={this.resizeHeaders}\r\n                onAutoMeasure={this.autoMeasure}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n"},function(e,r){e.exports="import * as React from 'react';\r\nimport * as PapaParse from 'papaparse';\r\nimport Grid, { ClipboardController } from 'react-bolivianite-grid';\r\nimport EditableGrid from './editable-grid';\r\nimport Theme from './style';\r\n\r\nexport default class extends EditableGrid {\r\n    protected _cpb: ClipboardController;\r\n\r\n    constructor(_p: any, _c: any) {\r\n        super(_p, _c);\r\n\r\n        this._cpb = new ClipboardController({\r\n            // Rendering header on copy event\r\n            renderHeader: ({ header, type }) => {\r\n                return this.getHeaderCaption(header, type);\r\n            },\r\n            // Rendering cell on copy event\r\n            renderCell: ({ cell, data, repository }) => {\r\n                let rowHeader = repository.rows[cell.row];\r\n                let colHeader = repository.columns[cell.column];\r\n                return this.getValue(rowHeader, colHeader, data);\r\n            },\r\n            // Parsing clipboard on paste event\r\n            clipboardParser: (dataTransfer) => {\r\n                let text = dataTransfer.getData('Text') || '';\r\n                let { data } = PapaParse.parse(text, { delimiter: '\\t' });\r\n                return data || [];\r\n            },\r\n            // Parsing cell on paste event\r\n            cellParser: ({ value }) => {\r\n                return value;\r\n            },\r\n            onInvalidSelection: () => {\r\n                alert(`Impossible to copy current selection.`);\r\n            },\r\n            onCopy: ({ table, focus }) => {\r\n                let data = PapaParse.unparse(table, { delimiter: '\\t' });\r\n\r\n                let ta = document.createElement('textarea');\r\n                ta.style.position = 'fixed';\r\n                ta.style.top = '200vh';\r\n                ta.value = data;\r\n\r\n                document.body.appendChild(ta);\r\n                ta.select();\r\n\r\n                let success = document.execCommand('Copy');\r\n                document.body.removeChild(ta);\r\n                focus();\r\n\r\n                if (!success) {\r\n                    alert('Failed to copy current selection.');\r\n                }\r\n            },\r\n            onPaste: ({ changes }) => {\r\n                let { data, repository } = this.currentState;\r\n                data = new Map(data);\r\n\r\n                changes.forEach(({ column, row, value }) => {\r\n                    if (!repository.rows[row] || !repository.columns[column]) {\r\n                        return;\r\n                    }\r\n\r\n                    data.set(this.getDataKey(row, column), value);\r\n                });\r\n\r\n                this.pushHistory({ data, repository });\r\n            }\r\n        });\r\n    }\r\n\r\n    renderGrid() {\r\n        const { data, repository } = this.currentState;\r\n        return (\r\n            <Grid\r\n                repository={repository}\r\n                overscanRows={3}\r\n                data={data}\r\n                theme={Theme}\r\n                onRenderCell={this.renderCell}\r\n                onRenderHeader={this.renderHeader}\r\n                onRenderSelection={this.renderSelection}\r\n                onRenderEditor={this.editorRenderer}\r\n                onNullify={this.onNullify}\r\n                onUpdate={this.onUpdate}\r\n                onCopy={this._cpb.onCopy}\r\n                onPaste={this._cpb.onPaste}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n"},function(e,r){e.exports="import * as React from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport Grid, {\r\n    HeaderRepository, IHeader, ICellRendererEvent, IHeaderRendererEvent,\r\n    HeaderType, ISelectionRendererEvent, ICellEditorEvent,\r\n    IGridNullifyEvent, IGridUpdateEvent\r\n} from 'react-bolivianite-grid';\r\n\r\nimport Theme from './style';\r\nimport Editor from './simple-editor';\r\n\r\nconst Style = require('./style.scss');\r\nconst IS_MACOS = navigator.platform.slice(0, 3) === 'Mac';\r\n\r\n/**\r\n * Material design icons\r\n * https://github.com/google/material-design-icons\r\n *\r\n * This icons will be used for undo and redo actions.\r\n */\r\nconst PATH_UNDO = (\r\n    'M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 ' +\r\n    '5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z'\r\n);\r\nconst PATH_REDO = (\r\n    'M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 ' +\r\n    '16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z'\r\n);\r\n\r\n/** Current header repository and data set state. */\r\nexport interface HistoryState {\r\n    data?: Map<string, string>;\r\n    repository?: HeaderRepository;\r\n}\r\n\r\nexport interface IBaseExampleProps {\r\n    /**\r\n     * Provided by example wrapper component.\r\n     * Undo and redo buttons will be placed inside this component.\r\n     */\r\n    refControls?: HTMLElement;\r\n}\r\n\r\nexport default class extends React.Component<IBaseExampleProps, any> {\r\n    protected _isMounted = true;\r\n\r\n    state = {\r\n        history: [{\r\n            data: new Map(),\r\n            repository: this.generateRepository(200, 200)\r\n        }],\r\n        index: 0, // current history page\r\n    };\r\n\r\n    /** Current header repository and data set. */\r\n    get currentState() {\r\n        return this.state.history[this.state.index];\r\n    }\r\n\r\n    get canUndo() {\r\n        return this.state.index;\r\n    }\r\n\r\n    get canRedo() {\r\n        const len = this.state.history.length;\r\n        return len && this.state.index !== len - 1;\r\n    }\r\n\r\n    /**\r\n     * Push next state to history.\r\n     * @param state Next state.\r\n     * @param autosize If true - it will replace last page of history, instead of adding.\r\n     */\r\n    pushHistory(state: HistoryState, autosize = false) {\r\n        if (!this._isMounted) {\r\n            return;\r\n        }\r\n\r\n        let ix = this.state.index;\r\n        let is = this.state.history[ix];\r\n        let n = autosize ? 0 : 1;\r\n\r\n        this.setState({\r\n            index: ix + n,\r\n            history: [\r\n                ...this.state.history.slice(0, ix + n),\r\n                {\r\n                    ...is,\r\n                    ...state\r\n                }\r\n            ]\r\n        });\r\n    }\r\n\r\n    undo = () => {\r\n        if (!this.state.index) {\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            index: this.state.index - 1\r\n        });\r\n    }\r\n\r\n    redo = () => {\r\n        if (this.state.index === (this.state.history.length - 1)) {\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            index: this.state.index + 1\r\n        });\r\n    }\r\n\r\n    /** Returns keyboard modifier flags. */\r\n    getModifiers(e: React.KeyboardEvent<HTMLElement>) {\r\n        const { ctrlKey, altKey, shiftKey } = e;\r\n        const cmdKey = e.getModifierState('Meta'); // Command key for Mac OS\r\n\r\n        return {\r\n            ctrlKey,\r\n            macCmdKey: cmdKey,\r\n            cmdKey: IS_MACOS ? cmdKey : ctrlKey,\r\n            shiftKey,\r\n            altKey\r\n        };\r\n    }\r\n\r\n    /** Managing undo/redo keyboard actions. */\r\n    onKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\r\n        const { cmdKey, shiftKey } = this.getModifiers(e);\r\n        const t = e.target as HTMLElement;\r\n\r\n        if (!cmdKey || (t && t.tagName === 'INPUT')) {\r\n            return;\r\n        }\r\n\r\n        switch (e.keyCode) {\r\n            case 89: // Y\r\n                if (!IS_MACOS) {\r\n                    e.preventDefault();\r\n                    this.redo();\r\n                }\r\n                break;\r\n\r\n            case 90: // Z\r\n                e.preventDefault();\r\n                if (IS_MACOS && shiftKey) {\r\n                    this.redo();\r\n                } else {\r\n                    this.undo();\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    /** We will use this in header filtering example. */\r\n    renderAdditionalControls(): React.ReactNode {\r\n        return null;\r\n    }\r\n\r\n    /** Rendering undo/redo buttons. */\r\n    renderControls() {\r\n        if (!this.props.refControls) {\r\n            return null;\r\n        }\r\n\r\n        return ReactDOM.createPortal((\r\n            <>\r\n                <button\r\n                    className={Style.historyButton}\r\n                    onClick={this.undo}\r\n                    disabled={!this.canUndo}\r\n                >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                        <path d={PATH_UNDO} />\r\n                    </svg>\r\n                </button>\r\n                <button\r\n                    className={Style.historyButton}\r\n                    onClick={this.redo}\r\n                    disabled={!this.canRedo}\r\n                >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\r\n                        <path d={PATH_REDO} />\r\n                    </svg>\r\n                </button>\r\n                {this.renderAdditionalControls()}\r\n            </>\r\n        ), this.props.refControls);\r\n    }\r\n\r\n    /** Generating header repository. */\r\n    generateRepository(rows: number, columns: number) {\r\n        const colHeaders = (\r\n            new Array(columns)\r\n                .fill(null)\r\n                .map((_, i) => {\r\n                    return {\r\n                        colIndex: i\r\n                    } as IHeader;\r\n                })\r\n        );\r\n\r\n        const rowlHeaders = (\r\n            new Array(rows)\r\n                .fill(null)\r\n                .map((_, i) => {\r\n                    return {\r\n                        rowIndex: i\r\n                    } as IHeader;\r\n                })\r\n        );\r\n\r\n        return new HeaderRepository({\r\n            columns: colHeaders,\r\n            rows: rowlHeaders,\r\n            columnWidth: 100,\r\n            rowHeight: 24,\r\n            headersHeight: 24,\r\n            headersWidth: 50\r\n        });\r\n    }\r\n\r\n    /** Get data key from pair of headers. */\r\n    getDataKey(row: IHeader | number, col: IHeader | number) {\r\n        const { repository } = this.currentState;\r\n        const r = typeof row === 'number' ? repository.rows[row].rowIndex : row.rowIndex;\r\n        const c = typeof col === 'number' ? repository.columns[col].colIndex : col.colIndex;\r\n        return `${r} x ${c}`;\r\n    }\r\n\r\n    /** Get data value from pair of headers. */\r\n    getValue(rowHeader: IHeader, colHeader: IHeader, source: Map<string, string>) {\r\n        const key = this.getDataKey(rowHeader, colHeader);\r\n        const value = source.get(key);\r\n        return value === void 0 ? key : value;\r\n    }\r\n\r\n    getHeaderCaption(header: IHeader, type: HeaderType) {\r\n        if (header.caption) {\r\n            return header.caption;\r\n        }\r\n\r\n        return (\r\n            type === HeaderType.Column\r\n                ? this.excelIndex(header.colIndex)\r\n                : header.rowIndex + 1\r\n        );\r\n    }\r\n\r\n    excelIndex(index: number) {\r\n        index++;\r\n        let c = '';\r\n\r\n        for (let a = 1, b = 26; (index -= a) >= 0; a = b, b *= 26) {\r\n            c = String.fromCharCode(~~((index % b) / a) + 65) + c;\r\n        }\r\n\r\n        return c;\r\n    }\r\n\r\n    renderCell = ({ style, row, data, rowHeader, columnHeader, theme }: ICellRendererEvent) => {\r\n        return (\r\n            <div\r\n                style={{\r\n                    ...style,\r\n                    ...theme.cellStyle,\r\n                    background: row % 2 ? theme.cellBackgroundEven : theme.cellBackgroundOdd\r\n                }}\r\n            >\r\n                {this.getValue(rowHeader, columnHeader, data )}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    /**\r\n     * We will use this method later.\r\n     * Just placeholder in header rendering.\r\n     * Header resizers will be rendered here.\r\n     */\r\n    renderAdditionalHeaderContent(_e: IHeaderRendererEvent): React.ReactNode {\r\n        return null;\r\n    }\r\n\r\n    renderHeader = (e: IHeaderRendererEvent) => {\r\n        const { style, type, selection, theme, header } = e;\r\n        const nextStyle: React.CSSProperties = {\r\n            ...style,\r\n            ...theme.headerStyle\r\n        };\r\n\r\n        switch (type) {\r\n            case HeaderType.Row:\r\n                nextStyle.borderBottomColor = theme.headerBorderColor;\r\n                break;\r\n\r\n            case HeaderType.Column:\r\n                nextStyle.borderRightColor = theme.headerBorderColor;\r\n                break;\r\n        }\r\n\r\n        if (selection) {\r\n            nextStyle.background = theme.headerBackgroundColorSelected;\r\n        }\r\n\r\n        nextStyle.justifyContent = type === HeaderType.Row ? 'flex-end' : 'center';\r\n\r\n        return (\r\n            <div style={nextStyle}>\r\n                {this.getHeaderCaption(header, type)}\r\n                {this.renderAdditionalHeaderContent(e)}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderSelection = ({ key, style, active, edit, theme }: ISelectionRendererEvent) => {\r\n        // Modifying style size for proper border positioning.\r\n        style.left = Number(style.left) - 1;\r\n        style.top = Number(style.top) - 1;\r\n        style.width = Number(style.width) + 1;\r\n        style.height = Number(style.height) + 1;\r\n\r\n        // `active` flag uses for active cell (cursor) indication.\r\n        // Usually this is normal selection component with transparent\r\n        // background and bold borders.\r\n        // `edit` is same, but rendered when cell is edited.\r\n\r\n        return (\r\n            <div\r\n                key={key}\r\n                style={{\r\n                    ...style,\r\n                    boxSizing: 'border-box',\r\n                    backgroundColor: (active || edit) ? theme.selectionBackgroundActive : theme.selectionBackground,\r\n                    border: active ? theme.selectionBorderActive : theme.selectionBorder\r\n                }}\r\n            />\r\n        );\r\n    }\r\n\r\n    editorRenderer = ({ style, update, data, rowHeader, columnHeader }: ICellEditorEvent) => {\r\n        let initialValue = this.getValue(rowHeader, columnHeader, data);\r\n\r\n        return (\r\n            <div\r\n                style={{\r\n                    ...style,\r\n                    boxSizing: 'border-box',\r\n                    padding: '0 3px',\r\n                    display: 'flex',\r\n                    alignItems: 'center'\r\n                }}\r\n            >\r\n                <Editor\r\n                    initialValue={initialValue}\r\n                    update={update}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    /** On `DELETE`/`BACKSPACE` key. */\r\n    onNullify = ({ cells }: IGridNullifyEvent) => {\r\n        let data = new Map(this.currentState.data);\r\n\r\n        cells.forEach(({ column, row }) => {\r\n            data.set(this.getDataKey(row, column), null);\r\n        });\r\n\r\n        this.pushHistory({ data });\r\n    }\r\n\r\n    /** When **editor** updated cell value. */\r\n    onUpdate = ({ cell, value }: IGridUpdateEvent) => {\r\n        let key = this.getDataKey(cell.row, cell.column);\r\n        let data = new Map(this.currentState.data);\r\n        data.set(key, value);\r\n        this.pushHistory({ data });\r\n    }\r\n\r\n    renderGrid() {\r\n        const { data, repository } = this.currentState;\r\n        return (\r\n            <Grid\r\n                repository={repository}\r\n                overscanRows={3}\r\n                data={data}\r\n                theme={Theme}\r\n                onRenderCell={this.renderCell}\r\n                onRenderHeader={this.renderHeader}\r\n                onRenderSelection={this.renderSelection}\r\n                onRenderEditor={this.editorRenderer}\r\n                onNullify={this.onNullify}\r\n                onUpdate={this.onUpdate}\r\n            />\r\n        );\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={Style.exampleContainer} onKeyDown={this.onKeyDown}>\r\n                {this.renderControls()}\r\n                {this.renderGrid()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"},function(e,r){e.exports="import * as React from 'react';\r\nimport {\r\n    Resizer, IHeaderRendererEvent, HeaderType, IHeader\r\n} from 'react-bolivianite-grid';\r\nimport GroupedHeadersExample from './grouped-headers-grid';\r\n\r\nexport default class extends GroupedHeadersExample {\r\n    measureHeader(header: IHeader, type: HeaderType, ctx: CanvasRenderingContext2D) {\r\n        const text = this.getHeaderCaption(header, type);\r\n        let width = ctx.measureText(String(text)).width;\r\n\r\n        // Header has caption like this: [C|R][1|2|3][ ][(] ...\r\n        // Caption with char at index 1 with value '1' and '2' has expand/collapse button\r\n        // with width + margin around 20px. Not a battle-ready solution, just an example.\r\n        if (text[1] !== '3') {\r\n            width += 20;\r\n        }\r\n\r\n        return width;\r\n    }\r\n\r\n    renderHeader = ({ style, type, selection, header, theme }: IHeaderRendererEvent) => {\r\n        const nextStyle: React.CSSProperties = {\r\n            ...style,\r\n            ...theme.headerStyle,\r\n            justifyContent: 'flex-start',\r\n            alignItems: 'flex-start'\r\n        };\r\n\r\n        const isParent = !header.$collapsed && header.$children && header.$children.length;\r\n\r\n        switch (type) {\r\n            case HeaderType.Row:\r\n                nextStyle.borderBottomColor = theme.headerBorderColor;\r\n                nextStyle.borderRightColor = isParent ? theme.headerBorderColor : 'transparent';\r\n                break;\r\n\r\n            case HeaderType.Column:\r\n                nextStyle.borderRightColor = theme.headerBorderColor;\r\n                nextStyle.borderBottomColor = isParent ? theme.headerBorderColor : 'transparent';\r\n                break;\r\n        }\r\n\r\n        if (selection) {\r\n            nextStyle.background = theme.headerBackgroundColorSelected;\r\n        }\r\n\r\n        return (\r\n            <div style={nextStyle}>\r\n                {header.$children && header.$children.length &&\r\n                    <button\r\n                        style={{\r\n                            cursor: 'pointer',\r\n                            background: 'rgba(255, 255, 255, 0.1)',\r\n                            border: 0,\r\n                            borderRadius: 3,\r\n                            color: '#FFFFFF',\r\n                            marginBottom: 3,\r\n                            marginRight: 3,\r\n                            height: 18\r\n                        }}\r\n                        onMouseDown={(e) => {\r\n                            // Stop grid from selecting cells by click on header.\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n\r\n                            let { data, repository } = this.currentState;\r\n\r\n                            repository = repository.updateHeaders([{\r\n                                header,\r\n                                update: {\r\n                                    $collapsed: !header.$collapsed\r\n                                }\r\n                            }]);\r\n\r\n                            this.pushHistory({\r\n                                data, repository\r\n                            });\r\n                        }}\r\n                    >\r\n                        {header.$collapsed ? '+' : '-'}\r\n                    </button>\r\n                }\r\n                {header.caption}\r\n                <Resizer header={header} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"},function(e,r){e.exports="import * as React from 'react';\r\nimport CopyPasteExample from './copy-paste-grid';\r\nimport { HeaderType, HeaderRepository, IHeader } from 'react-bolivianite-grid';\r\n\r\nexport default class extends CopyPasteExample {\r\n    state = {\r\n        history: [{\r\n            data: new Map<string, string>(),\r\n            repository: this.generateRepository(200, 200)\r\n        }],\r\n        index: 0,\r\n        input: ''\r\n    };\r\n\r\n    generateRepository(rows: number, columns: number) {\r\n        const colHeaders = (\r\n            new Array(columns)\r\n                .fill(null)\r\n                .map((_, i) => {\r\n                    return {\r\n                        colIndex: i,\r\n                        caption: `C${i}`\r\n                    } as IHeader;\r\n                })\r\n        );\r\n\r\n        const rowlHeaders = (\r\n            new Array(rows)\r\n                .fill(null)\r\n                .map((_, i) => {\r\n                    return {\r\n                        rowIndex: i,\r\n                        caption: `R${i}`\r\n                    } as IHeader;\r\n                })\r\n        );\r\n\r\n        return new HeaderRepository({\r\n            columns: colHeaders,\r\n            rows: rowlHeaders,\r\n            columnWidth: 100,\r\n            rowHeight: 24,\r\n            headersHeight: 24,\r\n            headersWidth: 50\r\n        });\r\n    }\r\n\r\n    renderAdditionalControls() {\r\n        return (\r\n            <input\r\n                style={{\r\n                    margin: 0,\r\n                    marginLeft: 'var(--padding-small)',\r\n                    border: 0,\r\n                    height: '25px',\r\n                    background: 'rgba(0, 0, 0, 0.3)',\r\n                    color: '#ffffff',\r\n                    boxSizing: 'border-box',\r\n                    padding: '0 5px',\r\n                    outline: 'none',\r\n                    flex: 1,\r\n                    borderBottom: 'rgba(255, 255, 255, 0.2) solid 1px',\r\n                    borderRadius: 4\r\n                }}\r\n                value={this.state.input}\r\n                placeholder=\"Try to type header name.\"\r\n                onChange={(e) => {\r\n                    const state = this.state.history[this.state.history.length - 1];\r\n\r\n                    let v = e.target.value.toLowerCase();\r\n                    let { repository } = state;\r\n\r\n                    repository = repository.updateFilter(({ header, type }) => {\r\n                        if ((v[0] === 'c' && type === HeaderType.Column) || (v[0] === 'r' && type === HeaderType.Row)) {\r\n                            return header.caption.toLowerCase().indexOf(v) !== -1;\r\n                        }\r\n\r\n                        return true;\r\n                    });\r\n\r\n                    this.setState({ input: e.target.value });\r\n                    this.pushHistory({ repository });\r\n                }}\r\n            />\r\n        );\r\n    }\r\n}\r\n"},function(e,r){e.exports="import * as React from 'react';\r\nimport Grid, {\r\n    Resizer, HeaderRepository, IHeader, IHeaderRendererEvent, HeaderType\r\n} from 'react-bolivianite-grid';\r\nimport AutosizingExample from './autosizing-grid';\r\nimport Theme from './style';\r\n\r\nexport default class extends AutosizingExample {\r\n    state = {\r\n        history: [{\r\n            data: new Map<string, string>(),\r\n            repository: new HeaderRepository({\r\n                columns: this.getHeaderTree('C', 4, 4, 4),\r\n                rows: this.getHeaderTree('R', 10, 4, 2),\r\n                columnWidth: 100,\r\n                rowHeight: 24,\r\n                headersHeight: 24,\r\n                headersWidth: 60\r\n            })\r\n        }],\r\n        index: 0\r\n    };\r\n\r\n    generateList(c: string, n: number, ct: { c?: number }, ch?: () => IHeader[]) {\r\n        return new Array(n)\r\n            .fill(null)\r\n            .map((_v) => {\r\n                ct.c = (ct.c || 0) + 1;\r\n                let t = `${c} (${ct.c})`;\r\n                return {\r\n                    caption: t,\r\n                    $children: ch ? ch() : null,\r\n                    [c[0] === 'C' ? 'colIndex' : 'rowIndex']: t\r\n                } as IHeader;\r\n            });\r\n    }\r\n\r\n    getHeaderTree(s: string, n1: number, n2: number, n3: number) {\r\n        const l1 = {}, l2 = {}, l3 = {};\r\n\r\n        return this.generateList(`${s}1`, n1, l1, () => {\r\n            return this.generateList(`${s}2`, n2, l2, () => {\r\n                return this.generateList(`${s}3`, n3, l3);\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Note: viewIndex is undefined for parent headers\r\n     */\r\n    renderHeader = ({ style, type, selection, viewIndex, header, theme }: IHeaderRendererEvent) => {\r\n        const nextStyle: React.CSSProperties = {\r\n            ...style,\r\n            ...theme.headerStyle\r\n        };\r\n\r\n        switch (type) {\r\n            case HeaderType.Row:\r\n                nextStyle.borderBottomColor = theme.headerBorderColor;\r\n\r\n                if (viewIndex == null) {\r\n                    nextStyle.borderRightColor = theme.headerBorderColor;\r\n                }\r\n                break;\r\n\r\n            case HeaderType.Column:\r\n                nextStyle.borderRightColor = theme.headerBorderColor;\r\n\r\n                if (viewIndex == null) {\r\n                    nextStyle.borderBottomColor = theme.headerBorderColor;\r\n                }\r\n                break;\r\n        }\r\n\r\n        if (selection) {\r\n            nextStyle.background = theme.headerBackgroundColorSelected;\r\n        }\r\n\r\n        if (viewIndex != null) {\r\n            nextStyle.justifyContent = type === HeaderType.Row ? 'flex-end' : 'center';\r\n        } else {\r\n            nextStyle.justifyContent = 'flex-start';\r\n            nextStyle.alignItems = 'flex-start';\r\n        }\r\n\r\n        return (\r\n            <div style={nextStyle}>\r\n                {this.getHeaderCaption(header, type)}\r\n                <Resizer header={header} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderGrid() {\r\n        const { data, repository } = this.currentState;\r\n        return (\r\n            <Grid\r\n                repository={repository}\r\n                overscanRows={3}\r\n                data={data}\r\n                theme={Theme}\r\n                onRenderCell={this.renderCell}\r\n                onRenderHeader={this.renderHeader}\r\n                onRenderSelection={this.renderSelection}\r\n                onRenderEditor={this.editorRenderer}\r\n                onNullify={this.onNullify}\r\n                onUpdate={this.onUpdate}\r\n                onCopy={this._cpb.onCopy}\r\n                onPaste={this._cpb.onPaste}\r\n                onRenderResizer={this.renderResizer}\r\n                onHeaderResize={this.resizeHeaders}\r\n                onAutoMeasure={this.autoMeasure}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n"},function(e,r){e.exports="import * as React from 'react';\r\nimport CopyPasteExample from './copy-paste-grid';\r\nimport { ICellRendererEvent, HeaderRepository, IHeader } from 'react-bolivianite-grid';\r\nimport Grid from 'react-bolivianite-grid';\r\nimport Theme from './style';\r\n\r\nexport default class extends CopyPasteExample {\r\n    state = {\r\n        history: [{\r\n            data: new Map<string, string>(),\r\n            repository: this.generateRepository(15, 6)\r\n        }],\r\n        index: 0,\r\n        input: ''\r\n    };\r\n\r\n    generateRepository(rows: number, columns: number) {\r\n        const colHeaders = (\r\n            new Array(columns)\r\n                .fill(null)\r\n                .map((_, i) => {\r\n                    return {\r\n                        colIndex: i,\r\n                        caption: `C${i}`,\r\n                        $readOnly: i == 1\r\n                    } as IHeader;\r\n                })\r\n        );\r\n\r\n        const rowlHeaders = (\r\n            new Array(rows)\r\n                .fill(null)\r\n                .map((_, i) => {\r\n                    return {\r\n                        rowIndex: i,\r\n                        caption: `R${i}`,\r\n                        $readOnly: i == 1\r\n                    } as IHeader;\r\n                })\r\n        );\r\n\r\n        return new HeaderRepository({\r\n            columns: colHeaders,\r\n            rows: rowlHeaders,\r\n            columnWidth: 100,\r\n            rowHeight: 24,\r\n            headersHeight: 24,\r\n            headersWidth: 50\r\n        });\r\n    }\r\n\r\n    renderCell = ({ style, row, data, rowHeader, columnHeader, theme }: ICellRendererEvent) => {\r\n        return (\r\n            <div\r\n                style={{\r\n                    ...style,\r\n                    ...theme.cellStyle,\r\n                    background: (\r\n                        rowHeader.$readOnly || columnHeader.$readOnly || rowHeader.rowIndex >= 10 && columnHeader.colIndex >= 4\r\n                            ? '#999'\r\n                            : row % 2 ? theme.cellBackgroundEven : theme.cellBackgroundOdd\r\n                    )\r\n                }}\r\n            >\r\n                {this.getValue(rowHeader, columnHeader, data )}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderGrid() {\r\n        const { data, repository } = this.currentState;\r\n        return (\r\n            <Grid\r\n                repository={repository}\r\n                overscanRows={3}\r\n                data={data}\r\n                theme={Theme}\r\n                onRenderCell={this.renderCell}\r\n                onRenderHeader={this.renderHeader}\r\n                onRenderSelection={this.renderSelection}\r\n                onRenderEditor={this.editorRenderer}\r\n                onNullify={this.onNullify}\r\n                onUpdate={this.onUpdate}\r\n                onCopy={this._cpb.onCopy}\r\n                onPaste={this._cpb.onPaste}\r\n                // This is optional. $readOnly will work even without this function.\r\n                // However, we are using it to additionaly make bottom right part of the grid readonly too.\r\n                // And because we are using this function, $readOnly will no longer be used by default, so\r\n                // we need to use this property here too.\r\n                onReadOnly={({ row, column }) => {\r\n                    return row.$readOnly || column.$readOnly || row.rowIndex >= 10 && column.colIndex >= 4;\r\n                }}\r\n            />\r\n        );\r\n    }\r\n}\r\n"},function(e,r){e.exports="import { HeaderRepository, HeaderType, IHeader, HeaderRepositoryCache, IHeaderRepositoryCache } from 'react-bolivianite-grid';\r\nimport AutosizingGrid from './autosizing-grid';\r\nimport { HistoryState } from './editable-grid';\r\n\r\n/**\r\n * HeaderRepositoryCache is a built-in helper class. It implements some level-related\r\n * methods, but all header-related are virtual and must be implemented, because\r\n * it is up to you how to identify each header.\r\n */\r\nclass Cache extends HeaderRepositoryCache implements IHeaderRepositoryCache {\r\n    sizes = new Map<string, number>();\r\n    locked = new Map<string, boolean>();\r\n\r\n    public getHeaderSize(header: IHeader, _type: HeaderType): number {\r\n        return this.sizes.get(header.id) || 0;\r\n    }\r\n\r\n    public setHeaderSize(size: number, header: IHeader, _type: HeaderType): void {\r\n        this.sizes.set(header.id, size);\r\n    }\r\n\r\n    public getHeaderLock(header: IHeader, _type: HeaderType): boolean {\r\n        return this.locked.get(header.id) || false;\r\n    }\r\n\r\n    public setHeaderLock(locked: boolean, header: IHeader, _type: HeaderType): void {\r\n        this.locked.set(header.id, locked);\r\n    }\r\n}\r\n\r\nconst globalCache = new Cache();\r\n\r\nexport default class extends AutosizingGrid {\r\n    state = {\r\n        history: [{\r\n            data: new Map(),\r\n            repository: null as any\r\n        }],\r\n        repository: this.generateRepository(200, 200), // repository outside change history\r\n        index: 0\r\n    };\r\n\r\n    get currentState() {\r\n        return {\r\n            data: this.state.history[this.state.index].data,\r\n            repository: this.state.repository\r\n        };\r\n    }\r\n\r\n    generateRepository(rows: number, columns: number) {\r\n        const colHeaders = (\r\n            new Array(columns)\r\n                .fill(null)\r\n                .map((_, i) => {\r\n                    return {\r\n                        colIndex: i,\r\n                        id: `c${i}`\r\n                    } as IHeader;\r\n                })\r\n        );\r\n\r\n        const rowlHeaders = (\r\n            new Array(rows)\r\n                .fill(null)\r\n                .map((_, i) => {\r\n                    return {\r\n                        rowIndex: i,\r\n                        id: `r${i}`\r\n                    } as IHeader;\r\n                })\r\n        );\r\n\r\n        return new HeaderRepository({\r\n            cache: globalCache,\r\n            columns: colHeaders,\r\n            rows: rowlHeaders,\r\n            columnWidth: 100,\r\n            rowHeight: 24,\r\n            headersHeight: 24,\r\n            headersWidth: 50\r\n        });\r\n    }\r\n\r\n    pushHistory(state: HistoryState, autosize = false) {\r\n        if (!this._isMounted) {\r\n            return;\r\n        }\r\n\r\n        const { data } = this.currentState;\r\n\r\n        if (autosize || !state.data || data === state.data) {\r\n            this.setState({\r\n                repository: state.repository\r\n            });\r\n            return;\r\n        }\r\n\r\n        let ix = this.state.index + 1;\r\n\r\n        this.setState({\r\n            index: ix,\r\n            history: [\r\n                ...this.state.history.slice(0, ix),\r\n                {\r\n                    data: state.data\r\n                }\r\n            ]\r\n        });\r\n    }\r\n}\r\n\r\n"},function(e,r){e.exports="import * as React from 'react';\r\nimport Grid, {\r\n    HeaderType, IHeaderRendererEvent, Resizer, IResizerRenderEvent, IGridResizeCombinedEvent\r\n} from 'react-bolivianite-grid';\r\nimport CopyPasteExample from './copy-paste-grid';\r\nimport Theme from './style';\r\n\r\nexport default class extends CopyPasteExample {\r\n    renderAdditionalHeaderContent ({ header }: IHeaderRendererEvent) {\r\n        return (\r\n            <Resizer header={header} />\r\n        );\r\n    }\r\n\r\n    /** Rendering resizing indicator. */\r\n    renderResizer = ({ style, theme, resizer, orientation }: IResizerRenderEvent) => {\r\n        return (\r\n            <div\r\n                style={{\r\n                    ...style,\r\n                    ...(\r\n                        resizer === 'initial'\r\n                            ? theme.resizer\r\n                            : orientation === 'horizontal'\r\n                                ? theme.resizerChangeH\r\n                                : theme.resizerChangeV\r\n                    )\r\n                }}\r\n            />\r\n        );\r\n    }\r\n\r\n    /** Update header repository on resize. */\r\n    resizeHeaders = ({ headers, levels, behavior }: IGridResizeCombinedEvent) => {\r\n        const state = this.currentState;\r\n        let next = state.repository;\r\n\r\n        if (headers) {\r\n            next = next.resizeHeaders({\r\n                behavior, headers,\r\n                clamp: ({ type, size }) => Math.max(size, type === HeaderType.Column ? 30 : 24)\r\n            });\r\n        }\r\n\r\n        if (levels) {\r\n            next = next.resizeLevels({\r\n                behavior,\r\n                levels: levels.map(({ level, size, type }) => {\r\n                    return {\r\n                        type, level, size,\r\n                        min: type === HeaderType.Column ? 25 : 30\r\n                    };\r\n                })\r\n            });\r\n        }\r\n\r\n        if (state.repository === next) {\r\n            return;\r\n        }\r\n\r\n        this.pushHistory({ repository: next }, behavior === 'auto');\r\n    }\r\n\r\n    renderGrid() {\r\n        const { data, repository } = this.currentState;\r\n        return (\r\n            <Grid\r\n                repository={repository}\r\n                overscanRows={3}\r\n                data={data}\r\n                theme={Theme}\r\n                onRenderCell={this.renderCell}\r\n                onRenderHeader={this.renderHeader}\r\n                onRenderSelection={this.renderSelection}\r\n                onRenderEditor={this.editorRenderer}\r\n                onNullify={this.onNullify}\r\n                onUpdate={this.onUpdate}\r\n                onCopy={this._cpb.onCopy}\r\n                onPaste={this._cpb.onPaste}\r\n                onRenderResizer={this.renderResizer}\r\n                onHeaderResize={this.resizeHeaders}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n"},function(e,r){e.exports="import * as React from 'react';\r\n\r\nexport interface EditorProps {\r\n    initialValue: string;\r\n    update: (v: any) => void;\r\n}\r\n\r\nexport class Editor extends React.PureComponent<EditorProps, any> {\r\n    state = {\r\n        value: this.props.initialValue == null ? '' : this.props.initialValue\r\n    };\r\n\r\n    private _ref: HTMLInputElement;\r\n\r\n    private _onRef = (r: any) => {\r\n        this._ref = r;\r\n    }\r\n\r\n    public componentDidMount() {\r\n        if (!this._ref) {\r\n            return;\r\n        }\r\n\r\n        this._ref.focus();\r\n        this._ref.select();\r\n    }\r\n\r\n    public componentWillUnmount() {\r\n        if (this.state.value !== this.props.initialValue) {\r\n            this.props.update(this.state.value);\r\n        }\r\n    }\r\n\r\n    public render() {\r\n        return (\r\n            <input\r\n                ref={this._onRef}\r\n                style={{\r\n                    width: '100%',\r\n                    height: '100%',\r\n                    padding: 0,\r\n                    margin: 0,\r\n                    border: 0,\r\n                    background: 'transparent',\r\n                    outline: 'none',\r\n                    fontFamily: 'var(--app--font-family)',\r\n                    fontSize: 'var(--app--font-size)'\r\n                }}\r\n                value={this.state.value}\r\n                onChange={(e) => {\r\n                    this.setState({ value: e.target.value });\r\n                }}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default Editor;\r\n"},function(e,r){e.exports="import * as React from 'react';\r\nimport Grid, {\r\n    HeaderRepository, HeaderType, ICellRendererEvent, IHeaderRendererEvent,\r\n    ISelectionRendererEvent, IHeader\r\n} from 'react-bolivianite-grid';\r\nimport Theme from './style';\r\n\r\nexport default class extends React.Component {\r\n    state = {\r\n        repository: this.generateRepository(200, 100)\r\n    };\r\n\r\n    generateRepository(rows: number, columns: number) {\r\n        const colHeaders = (\r\n            new Array(columns)\r\n                .fill(null)\r\n                .map((_, i) => {\r\n                    return {\r\n                        colIndex: i\r\n                    } as IHeader;\r\n                })\r\n        );\r\n\r\n        const rowlHeaders = (\r\n            new Array(rows)\r\n                .fill(null)\r\n                .map((_, i) => {\r\n                    return {\r\n                        rowIndex: i\r\n                    } as IHeader;\r\n                })\r\n        );\r\n\r\n        return new HeaderRepository({\r\n            columns: colHeaders,\r\n            rows: rowlHeaders,\r\n            columnWidth: 100,\r\n            rowHeight: 24,\r\n            headersHeight: 24,\r\n            headersWidth: 50\r\n        });\r\n    }\r\n\r\n    /** This function converts number index to Excel-like column name. */\r\n    excelIndex(index: number) {\r\n        index++;\r\n        let c = '';\r\n\r\n        for (let a = 1, b = 26; (index -= a) >= 0; a = b, b *= 26) {\r\n            c = String.fromCharCode(~~((index % b) / a) + 65) + c;\r\n        }\r\n\r\n        return c;\r\n    }\r\n\r\n    /** Rendering cell. Using header's rowIndex and colIndex as cell's content. */\r\n    renderCell = ({ style, row, theme, rowHeader, columnHeader }: ICellRendererEvent) => {\r\n        return (\r\n            <div\r\n                style={{\r\n                    // Provided positioning style must be applied to each cell\r\n                    ...style,\r\n                    // Adding fancy cell style\r\n                    ...theme.cellStyle,\r\n                    background: row % 2 ? theme.cellBackgroundEven : theme.cellBackgroundOdd\r\n                }}\r\n            >\r\n                {`${rowHeader.rowIndex} x ${columnHeader.colIndex}`}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    /** Rendering header. */\r\n    renderHeader = ({ style, type, selection, theme, header }: IHeaderRendererEvent) => {\r\n        const nextStyle: React.CSSProperties = {\r\n            ...style,\r\n            ...theme.headerStyle\r\n        };\r\n\r\n        switch (type) {\r\n            case HeaderType.Row:\r\n                nextStyle.borderBottomColor = theme.headerBorderColor;\r\n                break;\r\n\r\n            case HeaderType.Column:\r\n                nextStyle.borderRightColor = theme.headerBorderColor;\r\n                break;\r\n        }\r\n\r\n        // Selection flag means that index of this header is inside user's selection\r\n        if (selection) {\r\n            nextStyle.background = theme.headerBackgroundColorSelected;\r\n        }\r\n\r\n        nextStyle.justifyContent = type === HeaderType.Row ? 'flex-end' : 'center';\r\n\r\n        return (\r\n            <div style={nextStyle}>\r\n                {\r\n                    type === HeaderType.Column\r\n                        ? this.excelIndex(header.colIndex)\r\n                        : header.rowIndex\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    /** Rendering user's selection. */\r\n    renderSelection = ({ key, style, active, edit, theme }: ISelectionRendererEvent) => {\r\n        // Modifying style size for proper border positioning.\r\n        style.left = Number(style.left) - 1;\r\n        style.top = Number(style.top) - 1;\r\n        style.width = Number(style.width) + 1;\r\n        style.height = Number(style.height) + 1;\r\n\r\n        // `active` flag uses for active cell (cursor) indication.\r\n        // Usually this is normal selection component with transparent\r\n        // background and bold borders.\r\n        // `edit` is same, but rendered when cell is edited.\r\n\r\n        return (\r\n            <div\r\n                key={key}\r\n                style={{\r\n                    ...style,\r\n                    boxSizing: 'border-box',\r\n                    backgroundColor: (active || edit) ? theme.selectionBackgroundActive : theme.selectionBackground,\r\n                    border: active ? theme.selectionBorderActive : theme.selectionBorder\r\n                }}\r\n            />\r\n        );\r\n    }\r\n\r\n    render() {\r\n        // Note, that current grid does not use any data source. For now.\r\n        return (\r\n            <Grid\r\n                readOnly\r\n                repository={this.state.repository}\r\n                overscanRows={3}\r\n                theme={Theme}\r\n                onRenderCell={this.renderCell}\r\n                onRenderHeader={this.renderHeader}\r\n                onRenderSelection={this.renderSelection}\r\n            />\r\n        );\r\n    }\r\n}\r\n"},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e};Object.defineProperty(r,"__esModule",{value:!0});var i=t(26),s=t(80),a=t(227),l=t(228),d=t(229),c=t(230),p=t(17),u=t(81),h=function(e){function r(r,t){var n=e.call(this,r,t)||this;return n._detached=!1,n._blockContextMenu=!1,n._onContextMenuListener=null,n._rt=new d.default,n._scrollUpdateTrottled=n._rt.create(),n._ref=null,n._refView=null,n._scrollerStyle={willChange:"transform",zIndex:0},n._lastView=null,n._lastOverscan=null,n._focused=!1,n._kbCtr=null,n._msCtr=null,n._currentEdit=null,n.state={scrollLeft:0,scrollTop:0,viewHeight:0,viewWidth:0,active:{row:0,column:0},edit:null,selection:[{row:0,column:0,width:0,height:0}],resizeHeaderPreview:null,resizeLevelPreview:null},n._chromeFix={row:-1,column:-1},n._onRef=function(e){n._ref=e},n._onRefView=function(e){n._refView=e},n._onBlur=function(){n._focused=!1},n._onFocus=function(){n._focused=!0},n._onRootMouseLeave=function(e){e.persist();var r=e.clientX,t=e.clientY,o=n._ref.getBoundingClientRect();n._msCtr.rootleave(r,t,o)},n._onKeyDown=function(e){e.persist(),n._kbCtr.keydown(e)},n._onRootMouseEnter=function(){n._msCtr.rootenter()},n._onRootMouseDown=function(e){n.focus(),2===e.button&&(n._blockContextMenu=!0)},n._onScrollViewUpdate=function(e){n._scrollUpdateTrottled(function(){n.state.viewWidth===e.clientWidth&&n.state.viewHeight===e.clientHeight&&n.state.scrollLeft===e.scrollLeft&&n.state.scrollTop===e.scrollTop||n.setState({viewWidth:e.clientWidth,viewHeight:e.clientHeight,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})})},n._ctrlGetState=function(){return{active:n.state.active,editor:n.state.edit,selection:n._selection,focused:n._focused,columns:n._columnCount,rows:n._rowCount,view:n._lastView,readOnly:n.props.readOnly}},n._ctrlRightClick=function(e,r,t,o){n.props.onRightClick&&n.props.onRightClick({cell:e,event:r,select:t,inside:o})},n._ctrlCopy=function(e,r){n.props.onCopy&&n.props.onCopy({withHeaders:r,cells:e,repository:n.props.repository,data:n.props.data,focus:function(){n.focus()}})},n._ctrlPaste=function(e){var r=e.clipboard,t=e.getAllSelectedCells,i=e.getLastSelectedCells,s=e.isReadOnly;n.props.onPaste&&n.props.onPaste({clipboard:r,getAllSelectedCells:t,getLastSelectedCells:i,isReadOnly:s,repository:n.props.repository,data:n.props.data,target:o({},n._active)})},n._ctrlNullify=function(e){n.props.onNullify&&n.props.onNullify({cells:n._ctrlOnReadOnlyFilter(e,"nullify")})},n._ctrlRemove=function(e){n.props.onRemove&&n.props.onRemove(e)},n._ctrlSpace=function(e){n.props.onSpace&&n.props.onSpace({cells:e})},n._ctrlIsCellReadOnly=function(e,r){var t=e.row,o=e.column,i=n.props.repository.columns[o],s=n.props.repository.rows[t];return i&&s&&n._ctrlIsReadOnly({row:s,column:i,source:r})},n._ctrlOnReadOnlyFilter=function(e,r){return e.filter(function(e){return!n._ctrlIsCellReadOnly(e,r)})},n._onCellMouseDown=function(e){e.persist();var r=Number(e.currentTarget.getAttribute("x-row")),t=Number(e.currentTarget.getAttribute("x-col"));1===e.button&&(n._chromeFix={row:r,column:t}),n.focus(),n._msCtr.mousedown(e,r,t)},n._onCellTouchStart=function(e){var r=Number(e.currentTarget.getAttribute("x-row")),t=Number(e.currentTarget.getAttribute("x-col"));n._chromeFix={row:r,column:t},n.focus()},n._onHeaderMouseDownHeader=function(e){e.persist();var r=Number(e.currentTarget.getAttribute("x-type")),t=e.currentTarget.getAttribute("x-id"),o=n.props.repository.getHeader(t);if(n.focus(),o&&(!n.props.onHeaderRightClick||(n.props.onHeaderRightClick({header:o,event:e}),!e.defaultPrevented))){var i=n.props.repository.getHeaderLeaves(o).map(function(e){return n.props.repository.getViewIndex(e)});if(i.length){var s=Math.min.apply(Math,i),a=Math.max.apply(Math,i);n._msCtr.headerdown(e,r,s,a)}}},n._onCornerMouseDown=function(e){if(0===e.button&&!e.defaultPrevented){var r=function(){n.setState({selection:[{row:0,column:0,width:n._columnCount-1,height:n._rowCount-1}]})};n.state.edit?n.closeEditor(!0,r):r()}},n._onCellMouseEnter=function(e){var r=Number(e.currentTarget.getAttribute("x-row")),t=Number(e.currentTarget.getAttribute("x-col"));n._msCtr.mouseenter(r,t)},n._renderHeadersLayer=function(e){var r=e.clientWidth,t=e.clientHeight,s=e.scrollLeft,a=e.scrollTop,l=n.props.onRenderHeaderCorner?n.props.onRenderHeaderCorner():null;return i.createElement("div",{style:{width:r,height:t,pointerEvents:"none",zIndex:1,overflow:"hidden",position:"absolute"}},!!n.props.repository.offsetHeight&&i.createElement("div",{className:n._theme.classNameGridColumns,style:o({},n._theme.styleGridColumns,{pointerEvents:"initial",position:"absolute",overflow:"hidden",left:n.props.repository.offsetWidth,top:0,right:0,height:n.props.repository.offsetHeight})},n._renderHeaders(p.HeaderType.Column,s)),!!n.props.repository.offsetWidth&&i.createElement("div",{className:n._theme.classNameGridRows,style:o({},n._theme.styleGridRows,{pointerEvents:"initial",position:"absolute",overflow:"hidden",left:0,top:n.props.repository.offsetHeight,bottom:0,width:n.props.repository.offsetWidth})},n._renderHeaders(p.HeaderType.Row,a)),!(!n.props.repository.offsetHeight&&!n.props.repository.offsetWidth)&&i.createElement("div",{className:n._theme.classNameGridCorner,style:o({},n._theme.styleGridCorner,{pointerEvents:"initial",position:"absolute",overflow:"hidden",left:0,top:0,height:n.props.repository.offsetHeight,width:n.props.repository.offsetWidth}),onMouseDown:n._onCornerMouseDown},l),n._renderResizing(e))},n._bodyRenderer=function(){return i.createElement(i.Fragment,null,i.createElement("div",{style:{height:Math.max(1,n._lastView.rowsHeight),width:Math.max(1,n._lastView.columnsWidth),boxSizing:"border-box",position:"relative",marginLeft:n._headersWidth,marginTop:n._headersHeight}},n._renderData()),i.createElement("div",{style:{position:"absolute",pointerEvents:"none",zIndex:1,left:n._headersWidth,top:n._headersHeight}},n._renderSelections()))},n.scrollTo=function(e){var r=n.props.repository;if(n._refView&&r.columns.length&&r.rows.length){var t=n._lastView,o=t.firstColumn,i=t.firstRow,s=t.lastColumn,a=t.lastRow,l=e.column,d=e.row;if(null!=d&&((d=Math.min(Math.max(0,d),n._rowCount-1))<=i||d>=a)){var c=r.getPosition(r.rows[d]);if(d<=i)n._refView.scrollTop=c;else{var p=r.getSize(r.rows[d]);n._refView.scrollTop=c+p-n.state.viewHeight+n._headersHeight}}if(null!=l&&((l=Math.min(Math.max(0,l),n._columnCount-1))<=o||l>=s)){var u=r.getPosition(r.columns[l]);if(l<=o)n._refView.scrollLeft=u;else{var h=r.getSize(r.columns[l]);n._refView.scrollLeft=u+h-n.state.viewWidth+n._headersWidth}}}},n.openEditor=function(e){if(!n.props.readOnly){var r=n.state.edit;if(r){if(r.row===e.row&&r.column===e.column)return;n.closeEditor(!0,function(){n.setState({edit:e})})}else{var t=n.props.repository.columns[e.column],o=n.props.repository.rows[e.row],i={column:t,row:o,source:"editor"};t&&o&&!n._ctrlIsNoEditor(i)&&!n._ctrlIsReadOnly(i)&&n.setState({edit:e})}}},n.closeEditor=function(e,r){if(!n.state.edit)return n._currentEdit=null,n.focus(),void(r&&r());n.setState({edit:null},function(){var t=n._currentEdit;if(n._currentEdit=null,n.focus(),r&&r(),n.props.onUpdate&&t){var o=t.col,i=t.row,s=t.nextValue,a=t.updatedValue;e&&a&&n.props.onUpdate({cell:{row:i,column:o},value:s})}})},n.updateSelection=function(e,r){var t=e.active,o=e.selection;if(t||o){var i=t||n._active,s=o||n._selection,a=n._ctrlGetActiveNotifier(n._active,i),l=n._ctrlGetSelectionNotifier(n._selection,s);n.setState({active:i,selection:s},function(){r&&r(),a&&a(),l&&l()})}},n._onAfterUpdate=c.default(500,n._onAfterUpdate.bind(n)),n._kbCtr=new a.default({getState:n._ctrlGetState,onCloseEditor:n.closeEditor,onOpenEditor:n.openEditor,onScroll:n.scrollTo,onUpdateSelection:n.updateSelection,onCopy:n._ctrlCopy,onPaste:n._ctrlPaste,onNullify:n._ctrlNullify,onRemove:n._ctrlRemove,onSpace:n._ctrlSpace,onReadOnly:n._ctrlIsCellReadOnly}),n._msCtr=new l.default({getState:n._ctrlGetState,onCloseEditor:n.closeEditor,onOpenEditor:n.openEditor,onScroll:n.scrollTo,onUpdateSelection:n.updateSelection,onRightClick:n._ctrlRightClick}),n}return n(r,e),Object.defineProperty(r.prototype,"_theme",{get:function(){return this.props.theme||{}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_columnCount",{get:function(){return this.props.repository?this.props.repository.columns.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_rowCount",{get:function(){return this.props.repository?this.props.repository.rows.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_headersHeight",{get:function(){return this.props.repository.offsetHeight||0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_headersWidth",{get:function(){return this.props.repository.offsetWidth||0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_selection",{get:function(){return this.props.selection||this.state.selection},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_active",{get:function(){return this.props.active||this.state.active},enumerable:!0,configurable:!0}),r.prototype._ctrlGetActiveNotifier=function(e,r){var t=this;return!this.props.onActiveChanged||e==r||e&&r&&e.column===r.column&&e.row===r.row?null:(e=e?o({},e):null,r=r?o({},r):null,function(){return t.props.onActiveChanged({previous:e,active:r})})},r.prototype._ctrlGetSelectionNotifier=function(e,r){var t=this;return this.props.onSelectionChanged&&e!=r?e&&r&&e.length===r.length&&e.every(function(e,t){return e.column===r[t].column&&e.height===r[t].height&&e.row===r[t].row&&e.width===r[t].width})?null:(e=e?e.slice().map(function(e){return o({},e)}):null,r=r?r.slice().map(function(e){return o({},e)}):null,function(){return t.props.onSelectionChanged({previous:e,active:r})}):null},r.prototype._ctrlIsReadOnly=function(e){return this.props.onReadOnly?this.props.onReadOnly(e):e.column.$readOnly||e.row.$readOnly},r.prototype._ctrlIsNoEditor=function(e){return e.column.$noEditor||e.row.$noEditor},r.prototype._onAutoMeasureApply=function(e,r,t,n){var o=this,i=e.cells,s=e.headers;i=(i||[]).filter(function(e){return!!e}),s=(s||[]).filter(function(e){return!!e});var a=this.props.repository,l="reset"===r,d={behavior:r};if("all"===t||"cells"===t){var c=a.columns,u=a.rows,h={},f={},y={},m={};if(s.forEach(function(e){var r=e.height,t=e.width,n=e.header,o=a.getViewIndex(n);a.getHeaderType(n)===p.HeaderType.Row?m[o]=Math.max(m[o]||0,r):y[o]=Math.max(y[o]||0,t)}),!i.length){var v=this._lastView,_=v.firstColumn,g=v.firstRow,w=v.lastRow,b=v.lastColumn;if(-1!==g||-1!==_){-1===g?(g=0,w=0):(_=0,b=0);for(var H=g;H<=w;H++)for(var C=_;C<=b;C++)i.push({column:C,row:H,height:0,width:0})}}for(var x=0,R=i;x<R.length;x++){var S=R[x],E=S.row,I=S.column,z=S.height,O=S.width;h[I]=Math.max(y[I]||0,null==h[I]?O:Math.max(O,h[I])),f[E]=Math.max(m[E]||0,null==f[E]?z:Math.max(z,f[E]))}var P="all"===n||n===p.HeaderType.Column?Object.keys(h).map(function(e){return{columnIndex:Number(e),width:Math.round(h[e])}}).filter(function(e){var r=e.width,t=e.columnIndex,n=c[t],i=o.props.repository.getSize(n);return n&&(l||!a.getManualResized(n)&&Math.round(i)<r)}).map(function(e){var r=e.columnIndex,t=e.width;return{header:c[r],size:t,type:a.getHeaderType(c[r])}}):[],k="all"===n||n===p.HeaderType.Row?Object.keys(f).map(function(e){return{rowIndex:Number(e),height:Math.round(f[e])}}).filter(function(e){var r=e.rowIndex,t=e.height,n=u[r],i=o.props.repository.getSize(n);return n&&(l||!a.getManualResized(n)&&Math.round(i)<t)}).map(function(e){var r=e.rowIndex,t=e.height;return{header:u[r],size:t,type:a.getHeaderType(u[r])}}):[];(P.length||k.length)&&(d.headers=P.concat(k))}if(("all"===t||"levels"===t)&&s.length){for(var M={},T={},L=0,A=s;L<A.length;L++){var j=A[L],G=j.header,B=(z=j.height,O=j.width,a.getHeaderType(G)),N=a.getPositionLevel(G);if(a.getManualResizedLevel(B,N)&&!l)return;B===p.HeaderType.Column?M[N]=z>(M[N]||0)?z:M[N]:T[N]=O>(T[N]||0)?O:T[N]}var $="all"===n||n===p.HeaderType.Column?Object.keys(M).map(function(e){var r=Number(e),t=M[r];return null==t||!l&&Math.round(t)<=Math.round(a.getTopLevelHeight(r))?null:{level:r,size:t,type:p.HeaderType.Column}}).filter(function(e){return!!e}):[],D="all"===n||n===p.HeaderType.Row?Object.keys(T).map(function(e){var r=Number(e),t=T[r];return null==t||!l&&Math.round(t)<=Math.round(a.getLeftLevelWidth(r))?null:{level:r,size:t,type:p.HeaderType.Row}}).filter(function(e){return!!e}):[];($.length||D.length)&&(d.levels=$.concat(D))}(d.headers||d.levels)&&this.props.onHeaderResize(d)},r.prototype._onAutoMeasure=function(){var e=this;if(!this.state.edit&&this.props.onAutoMeasure&&this.props.onHeaderResize&&this._lastView){for(var r=this._lastView,t=r.firstColumn,n=r.firstRow,o=r.lastRow,i=r.lastColumn,s=this.props.repository,a=s.columns,l=s.rows,d=[],c=n;c<=o;c++)for(var p=t;p<=i;p++)a[p]&&l[c]&&d.push({column:p,row:c,columnHeader:a[p],rowHeader:l[c]});var u=s.getNodesBottomUp(a.slice(t,i+1)),h=s.getNodesBottomUp(l.slice(n,o+1)),f=u.concat(h).map(function(e){return{index:s.getViewIndex(e),type:s.getHeaderType(e),level:s.getPositionLevel(e),header:e}});(d.length||f.length)&&this.props.onAutoMeasure({cells:d,headers:f,data:this.props.data,callback:function(r){e._onAutoMeasureApply(r,"auto","all","all")}})}},r.prototype._onAfterUpdate=function(){var e=this;if(this._onAutoMeasure(),this._refView){var r=this._refView.scrollerStyle;r.willChange="",setTimeout(function(){e._detached||(r.willChange="transform")},500)}},r.prototype._createView=function(){for(var e=this.state.scrollLeft,r=this.state.scrollTop,t=this.state.viewWidth-this._headersWidth,n=this.state.viewHeight-this._headersHeight,o=0,i=-1,s=-1,a=0,l=0,d=this.props.repository.rows;l<d.length;l++){var c=d[l],p=this.props.repository.getSize(c);if(-1===i&&o>=r-p&&(i=a),o+=p,-1===s&&o>=r+n){s=a;break}a++}-1===s&&-1!==i&&(s=a);for(var u=0,h=-1,f=-1,y=0,m=0,v=this.props.repository.columns;m<v.length;m++){var _=v[m],g=this.props.repository.getSize(_);if(-1===h&&u>=e-g&&(h=y),u+=g,-1===f&&u>=e+t){f=y;break}y++}-1===f&&-1!==h&&(f=y);var w=this.props.repository.rows[this.props.repository.rows.length-1],b=this.props.repository.columns[this.props.repository.columns.length-1];w&&(o=this.props.repository.getPosition(w)+this.props.repository.getSize(w)),b&&(u=this.props.repository.getPosition(b)+this.props.repository.getSize(b)),this._lastView={firstRow:i,lastRow:s,firstColumn:h,lastColumn:f,rowsHeight:o,columnsWidth:u}},r.prototype._createOverscan=function(){if(this._lastView){var e=this._lastView,r=e.firstColumn,t=e.firstRow,n=e.lastColumn,o=e.lastRow;this.props.overscanRows?(t=Math.max(0,t-this.props.overscanRows),o=Math.min(Math.max(0,this._rowCount-1),o+this.props.overscanRows)):t=Math.max(0,t),this.props.overscanColumns?(r=Math.max(0,r-this.props.overscanColumns),n=Math.min(Math.max(0,this._columnCount-1),n+this.props.overscanColumns)):r=Math.max(0,r),this._lastOverscan={firstRow:t,lastRow:o,firstColumn:r,lastColumn:n}}},r.prototype._prepareCellProps=function(e,r){var t=this.props.repository.rows[e],n=this.props.repository.columns[r];return t&&n?{row:e,column:r,rowHeader:t,columnHeader:n,active:e===this._active.row&&r===this._active.column,data:this.props.data,theme:this.props.theme,style:{top:this.props.repository.getPosition(t),left:this.props.repository.getPosition(n),height:this.props.repository.getSize(t),width:this.props.repository.getSize(n),position:"absolute",zIndex:1}}:null},r.prototype._renderCell=function(e,r){var t=this._prepareCellProps(e,r);if(!t)return null;var n=this.props.onRenderCell(t);return i.cloneElement(i.Children.only(n),{"x-row":e,"x-col":r,key:"C"+e+"x"+r,onMouseDown:this._onCellMouseDown,onMouseEnter:this._onCellMouseEnter,onTouchStart:this._onCellTouchStart})},r.prototype._renderEditor=function(e,r){var t=this;if(!this.props.onRenderEditor)return this._renderCell(e,r);this._currentEdit&&this._currentEdit.row===e&&this._currentEdit.col===r||(this._currentEdit={row:e,col:r,nextValue:null,updatedValue:!1});var n=this._prepareCellProps(e,r);if(!n)return null;var s=this.props.onRenderEditor(o({},n,{close:function(e){t.closeEditor(e)},update:function(e){t._currentEdit.nextValue=e,t._currentEdit.updatedValue=!0}}));return i.cloneElement(i.Children.only(s),{"x-row":e,"x-col":r,key:"E"+e+"x"+r})},r.prototype._renderData=function(){if(this._lastOverscan){var e=this._lastOverscan,r=e.firstColumn,t=e.firstRow,n=e.lastColumn,o=e.lastRow,i=this._columnCount,s=this._rowCount;if(!i||!s)return null;for(var a=Math.max(0,Math.min(s-t,1+o-t)),l=Math.max(0,Math.min(i-r,1+n-r)),d=new Array(a*l),c=0,p=this.state.edit,u=0;u<a;u++)for(var h=0;h<l;h++){var f=u+t,y=h+r;p&&p.column===y&&p.row===f?d[c++]=this._renderEditor(f,y):d[c++]=this._renderCell(f,y)}p&&(p.column<r||p.column>n||p.row<t||p.row>o)&&d.push(this._renderEditor(p.row,p.column));var m=this._chromeFix;return-1!==m.column&&-1!==m.row&&(m.column<r||m.column>n||m.row<t||m.row>o)&&d.push(this._renderCell(m.row,m.column)),d}},r.prototype._renderHeader=function(e,r,t,n,o,s,a){var l=n.$id,d=n.$children;if(!s.has(l)){s.add(l);var c={position:"absolute",zIndex:1},u=this.props.repository.getLevel(n),h=this.props.repository.getSize(n);if(r===p.HeaderType.Row)c.left=this.props.repository.getLeftLevelPosition(u),c.width=this.props.repository.getLeftLevelWidth(u,n.$collapsed),c.top=this.props.repository.getPosition(n)-o,c.height=h,!(u<this.props.repository.leftLevels-1)||d&&d.length||(c.width=this.props.repository.offsetWidth-c.left);else c.top=this.props.repository.getTopLevelPosition(u),c.height=this.props.repository.getTopLevelHeight(u,n.$collapsed),c.left=this.props.repository.getPosition(n)-o,c.width=h,!(u<this.props.repository.topLevels-1)||d&&d.length||(c.height=this.props.repository.offsetHeight-c.top);for(var f=!1,y=0,m=this._selection;y<m.length;y++){var v=m[y];if(r===p.HeaderType.Row){if(t>=v.row&&t<=v.row+v.height){f=!0;break}}else if(t>=v.column&&t<=v.column+v.width){f=!0;break}}var _=this.props.repository.getParent(n),g=this.props.onRenderHeader({type:r,header:n,style:c,parent:a,selection:!a&&f,parentHeader:_,theme:this.props.theme,viewIndex:this.props.repository.getViewIndex(n)});e.push(i.cloneElement(i.Children.only(g),{"x-type":r,"x-id":l,"x-lvl":u,key:l,onMouseDown:this._onHeaderMouseDownHeader})),_&&this._renderHeader(e,r,t,_,o,s,!0)}},r.prototype._renderHeaders=function(e,r){if(this._lastOverscan){for(var t=this._lastOverscan,n=t.firstColumn,o=t.firstRow,s=t.lastColumn,a=t.lastRow,l=e===p.HeaderType.Row,d=l?o:n,c=l?a:s,u=l?this._rowCount:this._columnCount,h=l?this.props.repository.rows:this.props.repository.columns,f=Math.max(0,Math.min(u-d,1+c-d)),y=[],m=new Set,v=0;v<f;v++){var _=v+d;this._renderHeader(y,e,_,h[_],r,m,!1)}return i.createElement(i.Fragment,null,y)}},r.prototype._renderResizing=function(e){var r,t,n=e.scrollLeft,o=e.scrollTop;if(!this.props.onRenderResizer||!this.state.resizeHeaderPreview&&!this.state.resizeLevelPreview)return null;var s={position:"absolute",pointerEvents:"none",zIndex:100},a={position:"absolute",pointerEvents:"none",zIndex:100};if(this.state.resizeHeaderPreview){r="header";var l=this.state.resizeHeaderPreview,d=l.change,c=l.header,u=this.props.repository.getHeaderType(c),h=this.props.repository.getPosition(c),f=this.props.repository.getSize(c);u===p.HeaderType.Row?(t="horizontal",a.left=s.left=0,a.right=s.right=0,a.top=s.top=this.props.repository.offsetHeight+h-o,s.height=f,a.height=f+d):(t="vertical",a.top=s.top=0,a.bottom=s.bottom=0,a.left=s.left=this.props.repository.offsetWidth+h-n,s.width=f,a.width=f+d)}if(this.state.resizeLevelPreview){r="level";var y=this.state.resizeLevelPreview,m=(d=y.change,c=y.header,u=this.props.repository.getHeaderType(c),this.props.repository.getPositionLevel(c));if(u===p.HeaderType.Row){t="vertical";var v=this.props.repository.getLeftLevelPosition(m),_=this.props.repository.getLeftLevelWidth(m);a.top=s.top=0,a.bottom=s.bottom=0,a.left=s.left=v,s.width=_,a.width=_+d}else{t="horizontal";v=this.props.repository.getTopLevelPosition(m),_=this.props.repository.getTopLevelHeight(m);a.left=s.left=0,a.right=s.right=0,a.top=s.top=v,s.height=_,a.height=_+d}}return this.state.resizeHeaderPreview||this.state.resizeLevelPreview?i.createElement(i.Fragment,null,this.props.onRenderResizer({type:r,orientation:t,style:s,resizer:"initial",theme:this.props.theme}),this.props.onRenderResizer({type:r,orientation:t,style:a,resizer:"changed",theme:this.props.theme})):null},r.prototype._isAddressOutOfBounds=function(e){var r=this.props.repository.rows.length-1,t=this.props.repository.columns.length-1;return e.column<0||e.column>t||e.row<0||e.row>r},r.prototype._getFilteredSelections=function(){var e=this.props.repository.columns.length-1,r=this.props.repository.rows.length-1;return this._selection.filter(function(t){var n=t.column;return t.row<=r&&n<=e})},r.prototype._renderSelections=function(){var e=this,r=this.props.repository;if(!r.columns.length||!r.rows.length)return null;var t=this._getFilteredSelections().map(function(t,n){var o=t.row,i=t.column,s=t.width,a=t.height,l=r.getPosition(r.columns[i]),d=r.getPosition(r.rows[o]),c=r.columns.slice(i,i+s+1).reduce(function(e,t){return e+r.getSize(t)},0),p=r.rows.slice(o,o+a+1).reduce(function(e,t){return e+r.getSize(t)},0);return e.props.onRenderSelection({key:n,active:!1,edit:!!e.state.edit,theme:e.props.theme,style:{position:"absolute",zIndex:n,left:l,top:d,width:c,height:p}})}),n=t.length;if(!this._isAddressOutOfBounds(this._active)){var o=r.rows[this._active.row],i=r.columns[this._active.column];t.push(this.props.onRenderSelection({key:n,active:!0,edit:!!this.state.edit,theme:this.props.theme,style:{position:"absolute",zIndex:n,left:r.getPosition(i),top:r.getPosition(o),width:r.getSize(i),height:r.getSize(o)}}))}return t},r.prototype.focus=function(){this._ref&&(this._ref.focus(),this._focused=!0)},r.prototype.blur=function(){this._ref&&this._ref.blur()},r.prototype.resizeHeaders=function(e){this.props.onHeaderResize&&this.props.onHeaderResize(e)},r.prototype.autoMeasure=function(e,r){var t=this;if(void 0===r&&(r="cells"),e&&e.length&&!this.state.edit&&this.props.onAutoMeasure&&this.props.onHeaderResize&&this._lastView){var n=this.props.repository,o=this._lastView,i=o.firstColumn,s=o.firstRow,a=o.lastRow,l=o.lastColumn;if(-1!==i&&-1!==s){var d=n.getHeaderType(e[0]),c=e.filter(function(e){return n.getHeaderType(e)!==d}),u=[];if(e=e.filter(function(e){return n.getHeaderType(e)===d}),c.length&&this.autoMeasure(c,r),"cells"===r)for(var h=e.map(function(e){return n.getHeaderLeaves(e)}),f=n.columns,y=n.rows,m=0,v=h;m<v.length;m++)for(var _=0,g=x=v[m];_<g.length;_++){var w=g[_];if(n.getHeaderType(w)===p.HeaderType.Column)for(var b=n.getViewIndex(w),H=s;H<=a;H++)f[b]&&y[H]&&u.push({column:b,row:H,columnHeader:f[b],rowHeader:y[H]});else for(H=n.getViewIndex(w),b=i;b<=l;b++)f[b]&&y[H]&&u.push({column:b,row:H,columnHeader:f[b],rowHeader:y[H]})}if("cells"===r)e=n.getNodesTopDown(e);else{var C=new Set;e.forEach(function(e){C.add(n.getPositionLevel(e))});var x=d===p.HeaderType.Column?n.columns.slice(i,l+1):n.rows.slice(s,a+1);e=n.getNodesBottomUp(x).filter(function(e){return C.has(n.getPositionLevel(e))})}var R=e.map(function(e){return{index:n.getViewIndex(e),type:n.getHeaderType(e),level:n.getPositionLevel(e),header:e}});this.props.onAutoMeasure({cells:u,headers:R,data:this.props.data,callback:function(e){t._onAutoMeasureApply(e,"reset",r,d)}})}}},r.prototype.previewResizeHeader=function(e){this.setState({resizeHeaderPreview:e})},r.prototype.previewResizeLevel=function(e){this.setState({resizeLevelPreview:e})},r.prototype.componentDidMount=function(){var e=this;document.body.addEventListener("contextmenu",this._onContextMenuListener=function(r){e._blockContextMenu&&(e._blockContextMenu=!1,r.preventDefault())})},r.prototype.componentDidUpdate=function(e){var r=e.data!==this.props.data,t=e.repository!==this.props.repository;this.state.edit&&(r||t)&&this.closeEditor(!1),this._onAfterUpdate()},r.prototype.componentWillUnmount=function(){this._detached=!0,document.body.removeEventListener("contextmenu",this._onContextMenuListener),this._kbCtr.dispose(),this._msCtr.dispose()},r.prototype.render=function(){this._createView(),this._createOverscan();var e=this.props.scrollViewClass||s.default;return i.createElement(u.default.Provider,{value:{grid:this,repository:this.props.repository}},i.createElement("div",{className:this._theme.classNameGrid,tabIndex:null==this.props.tabIndex?-1:this.props.tabIndex,ref:this._onRef,onBlur:this._onBlur,onFocus:this._onFocus,style:o({display:"block",height:"100%",width:"100%",position:"relative",userSelect:"none",outline:"none",overflow:"hidden"},this._theme.styleGrid),onKeyDown:this._onKeyDown,onMouseLeave:this._onRootMouseLeave,onMouseEnter:this._onRootMouseEnter,onMouseDown:this._onRootMouseDown},i.createElement(e,{className:this._theme.classNameScrollView,ref:this._onRefView,onScroll:this._onScrollViewUpdate,style:this._scrollerStyle,headersRenderer:this._renderHeadersLayer,bodyRenderer:this._bodyRenderer,preserveScrollbars:this.props.preserveScrollbars})))},r}(i.PureComponent);r.Grid=h,r.default=h},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e};Object.defineProperty(r,"__esModule",{value:!0});var i=t(26),s=function(e){function r(r,t){var n=e.call(this,r,t)||this;return n._taskResize=null,n._onRef=function(e){n._r=e},n._onScroll=function(e){!n.props.onScroll||e&&n._r!==e.target||n.forceUpdate(function(){n.props.onScroll&&n.props.onScroll(n._getView())})},n}return n(r,e),Object.defineProperty(r.prototype,"scrollerStyle",{get:function(){return this._r.style},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scrollLeft",{get:function(){return this._r.scrollLeft},set:function(e){this._r.scrollLeft=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scrollTop",{get:function(){return this._r.scrollTop},set:function(e){this._r.scrollTop=e},enumerable:!0,configurable:!0}),r.prototype._getView=function(){return this._r?{scrollLeft:this._r.scrollLeft,scrollTop:this._r.scrollTop,scrollWidth:this._r.scrollWidth,scrollHeight:this._r.scrollHeight,clientWidth:this._r.clientWidth,clientHeight:this._r.clientHeight}:{scrollLeft:0,scrollTop:0,scrollWidth:0,scrollHeight:0,clientWidth:0,clientHeight:0}},r.prototype.componentDidMount=function(){var e=this,r=this._r.clientWidth,t=this._r.clientHeight;this._taskResize=setInterval(function(){var n=e._r.clientWidth,o=e._r.clientHeight;n===r&&o===t||(r=n,t=o,e._onScroll(null))},100),this.props.onScroll&&this.props.onScroll(this._getView())},r.prototype.componentWillUnmount=function(){clearInterval(this._taskResize)},r.prototype.render=function(){var e=this._getView();return i.createElement("div",{style:{height:"100%",width:"100%",boxSizing:"border-box",position:"relative",overflow:"hidden"}},i.createElement("div",{className:this.props.className,ref:this._onRef,onScroll:this._onScroll,style:o({},this.props.style,{position:"absolute",left:0,top:0,right:0,bottom:0,overflow:this.props.preserveScrollbars?"scroll":"auto"})},this.props.bodyRenderer(e)),this.props.headersRenderer(e))},r}(i.Component);r.ScrollView=s,r.default=s},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(26);r.Context=n.createContext({grid:null,repository:null}),r.default=r.Context},,,,,,,,function(e,r){e.exports={exampleContainer:"style__exampleContainer___2ynuM",historyButton:"style__historyButton___3H0TA"}},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e};Object.defineProperty(r,"__esModule",{value:!0});var i=t(0),s=t(3),a=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderHeader=function(e){var t=e.style,n=e.type,a=e.selection,l=e.header,d=e.theme,c=o({},t,d.headerStyle,{justifyContent:"flex-start",alignItems:"flex-start"}),p=!l.$collapsed&&l.$children&&l.$children.length;switch(n){case s.HeaderType.Row:c.borderBottomColor=d.headerBorderColor,c.borderRightColor=p?d.headerBorderColor:"transparent";break;case s.HeaderType.Column:c.borderRightColor=d.headerBorderColor,c.borderBottomColor=p?d.headerBorderColor:"transparent"}return a&&(c.background=d.headerBackgroundColorSelected),i.createElement("div",{style:c},l.$children&&l.$children.length&&i.createElement("button",{style:{cursor:"pointer",background:"rgba(255, 255, 255, 0.1)",border:0,borderRadius:3,color:"#FFFFFF",marginBottom:3,marginRight:3,height:18},onMouseDown:function(e){e.stopPropagation(),e.preventDefault();var t=r.currentState,n=t.data,o=t.repository;o=o.updateHeaders([{header:l,update:{$collapsed:!l.$collapsed}}]),r.pushHistory({data:n,repository:o})}},l.$collapsed?"+":"-"),l.caption,i.createElement(s.Resizer,{header:l}))},r}return n(r,e),r.prototype.measureHeader=function(e,r,t){var n=this.getHeaderCaption(e,r),o=t.measureText(String(n)).width;return"3"!==n[1]&&(o+=20),o},r}(t(46).default);r.default=a},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(18),s=t(3),a=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.state={history:[{data:new Map,repository:r.generateRepository(200,200)}],index:0,input:""},r}return n(r,e),r.prototype.generateRepository=function(e,r){var t=new Array(r).fill(null).map(function(e,r){return{colIndex:r,caption:"C"+r}}),n=new Array(e).fill(null).map(function(e,r){return{rowIndex:r,caption:"R"+r}});return new s.HeaderRepository({columns:t,rows:n,columnWidth:100,rowHeight:24,headersHeight:24,headersWidth:50})},r.prototype.renderAdditionalControls=function(){var e=this;return o.createElement("input",{style:{margin:0,marginLeft:"var(--padding-small)",border:0,height:"25px",background:"rgba(0, 0, 0, 0.3)",color:"#ffffff",boxSizing:"border-box",padding:"0 5px",outline:"none",flex:1,borderBottom:"rgba(255, 255, 255, 0.2) solid 1px",borderRadius:4},value:this.state.input,placeholder:"Try to type header name.",onChange:function(r){var t=e.state.history[e.state.history.length-1],n=r.target.value.toLowerCase(),o=t.repository;o=o.updateFilter(function(e){var r=e.header,t=e.type;return!("c"===n[0]&&t===s.HeaderType.Column||"r"===n[0]&&t===s.HeaderType.Row)||-1!==r.caption.toLowerCase().indexOf(n)}),e.setState({input:r.target.value}),e.pushHistory({repository:o})}})},r}(i.default);r.default=a},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e};Object.defineProperty(r,"__esModule",{value:!0});var i=t(0),s=t(18),a=t(3),l=t(3),d=t(4),c=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.state={history:[{data:new Map,repository:r.generateRepository(15,6)}],index:0,input:""},r.renderCell=function(e){var t=e.style,n=e.row,s=e.data,a=e.rowHeader,l=e.columnHeader,d=e.theme;return i.createElement("div",{style:o({},t,d.cellStyle,{background:a.$readOnly||l.$readOnly||a.rowIndex>=10&&l.colIndex>=4?"#999":n%2?d.cellBackgroundEven:d.cellBackgroundOdd})},r.getValue(a,l,s))},r}return n(r,e),r.prototype.generateRepository=function(e,r){var t=new Array(r).fill(null).map(function(e,r){return{colIndex:r,caption:"C"+r,$readOnly:1==r}}),n=new Array(e).fill(null).map(function(e,r){return{rowIndex:r,caption:"R"+r,$readOnly:1==r}});return new a.HeaderRepository({columns:t,rows:n,columnWidth:100,rowHeight:24,headersHeight:24,headersWidth:50})},r.prototype.renderGrid=function(){var e=this.currentState,r=e.data,t=e.repository;return i.createElement(l.default,{repository:t,overscanRows:3,data:r,theme:d.default,onRenderCell:this.renderCell,onRenderHeader:this.renderHeader,onRenderSelection:this.renderSelection,onRenderEditor:this.editorRenderer,onNullify:this.onNullify,onUpdate:this.onUpdate,onCopy:this._cpb.onCopy,onPaste:this._cpb.onPaste,onReadOnly:function(e){var r=e.row,t=e.column;return r.$readOnly||t.$readOnly||r.rowIndex>=10&&t.colIndex>=4}})},r}(s.default);r.default=c},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(3),i=t(25),s=new(function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.sizes=new Map,r.locked=new Map,r}return n(r,e),r.prototype.getHeaderSize=function(e,r){return this.sizes.get(e.id)||0},r.prototype.setHeaderSize=function(e,r,t){this.sizes.set(r.id,e)},r.prototype.getHeaderLock=function(e,r){return this.locked.get(e.id)||!1},r.prototype.setHeaderLock=function(e,r,t){this.locked.set(r.id,e)},r}(o.HeaderRepositoryCache)),a=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.state={history:[{data:new Map,repository:null}],repository:r.generateRepository(200,200),index:0},r}return n(r,e),Object.defineProperty(r.prototype,"currentState",{get:function(){return{data:this.state.history[this.state.index].data,repository:this.state.repository}},enumerable:!0,configurable:!0}),r.prototype.generateRepository=function(e,r){var t=new Array(r).fill(null).map(function(e,r){return{colIndex:r,id:"c"+r}}),n=new Array(e).fill(null).map(function(e,r){return{rowIndex:r,id:"r"+r}});return new o.HeaderRepository({cache:s,columns:t,rows:n,columnWidth:100,rowHeight:24,headersHeight:24,headersWidth:50})},r.prototype.pushHistory=function(e,r){if(void 0===r&&(r=!1),this._isMounted){var t=this.currentState.data;if(!r&&e.data&&t!==e.data){var n=this.state.index+1;this.setState({index:n,history:this.state.history.slice(0,n).concat([{data:e.data}])})}else this.setState({repository:e.repository})}},r}(i.default);r.default=a},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e};Object.defineProperty(r,"__esModule",{value:!0});var i=t(0),s=t(3),a=t(4),l=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.state={repository:r.generateRepository(200,100)},r.renderCell=function(e){var r=e.style,t=e.row,n=e.theme,s=e.rowHeader,a=e.columnHeader;return i.createElement("div",{style:o({},r,n.cellStyle,{background:t%2?n.cellBackgroundEven:n.cellBackgroundOdd})},s.rowIndex+" x "+a.colIndex)},r.renderHeader=function(e){var t=e.style,n=e.type,a=e.selection,l=e.theme,d=e.header,c=o({},t,l.headerStyle);switch(n){case s.HeaderType.Row:c.borderBottomColor=l.headerBorderColor;break;case s.HeaderType.Column:c.borderRightColor=l.headerBorderColor}return a&&(c.background=l.headerBackgroundColorSelected),c.justifyContent=n===s.HeaderType.Row?"flex-end":"center",i.createElement("div",{style:c},n===s.HeaderType.Column?r.excelIndex(d.colIndex):d.rowIndex)},r.renderSelection=function(e){var r=e.key,t=e.style,n=e.active,s=e.edit,a=e.theme;return t.left=Number(t.left)-1,t.top=Number(t.top)-1,t.width=Number(t.width)+1,t.height=Number(t.height)+1,i.createElement("div",{key:r,style:o({},t,{boxSizing:"border-box",backgroundColor:n||s?a.selectionBackgroundActive:a.selectionBackground,border:n?a.selectionBorderActive:a.selectionBorder})})},r}return n(r,e),r.prototype.generateRepository=function(e,r){var t=new Array(r).fill(null).map(function(e,r){return{colIndex:r}}),n=new Array(e).fill(null).map(function(e,r){return{rowIndex:r}});return new s.HeaderRepository({columns:t,rows:n,columnWidth:100,rowHeight:24,headersHeight:24,headersWidth:50})},r.prototype.excelIndex=function(e){e++;for(var r="",t=1,n=26;(e-=t)>=0;t=n,n*=26)r=String.fromCharCode(65+~~(e%n/t))+r;return r},r.prototype.render=function(){return i.createElement(s.default,{readOnly:!0,repository:this.state.repository,overscanRows:3,theme:a.default,onRenderCell:this.renderCell,onRenderHeader:this.renderHeader,onRenderSelection:this.renderSelection})},r}(i.Component);r.default=l},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,r,t,n){void 0===r&&(r=""),void 0===t&&(t=""),void 0===n&&(n=!1),this.address=e,this.caption=r,this.text=t,this.isGroup=n,this.parent=null,this.children=[]}return Object.defineProperty(e.prototype,"url",{get:function(){var e=this,r=[];do{r.unshift(e.address)}while(e=e.parent);var t=r.join("/");return"/"===t[0]&&(t=t.substr(1)),t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){return this._createList()},enumerable:!0,configurable:!0}),e.prototype._createList=function(e,r){return void 0===e&&(e=[]),void 0===r&&(r=-1),e.push({url:this.url,caption:this.caption,body:this.text,deep:Math.max(0,r),isGroup:this.isGroup}),this.children.forEach(function(t){t._createList(e,t.isGroup?r:r+1)}),e},e.prototype.append=function(e){return e.parent=this,this.children.push(e),this},e}();function o(e,r,t){return new n(e,r,t)}r.ArticleClass=n,r.Article=o,r.Group=function(e,r){return new n(e,r,null,!0)},r.default=o},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0),o=t(51),i=t(20),s=t(131),a=t(255);t(271);var l=a.default.map;o.render(n.createElement(i.BrowserRouter,{basename:"react-bolivianite-grid"},n.createElement(s.default,{source:l})),document.getElementsByTagName("app")[0])},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,r,t){"use strict";function n(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),n(t(58)),n(t(95));var o=t(58);r.default=o.default},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(13),s=t(133),a=t(59),l=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),r.prototype.render=function(){return o.createElement("header",{className:i(s.root,this.props.className)},o.createElement(a.AppMaxWidth,null,o.createElement("div",{className:s.layer},this.props.children)))},r}(o.PureComponent);r.Toolbar=l},function(e,r){e.exports={root:"toolbar__root___3KkJL",layer:"toolbar__layer___3CPK5"}},function(e,r){e.exports={root:"app-max-width__root___3R_hm",layer:"app-max-width__layer___hnVxD"}},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},i=this&&this.__rest||function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&(t[n[o]]=e[n[o]])}return t};Object.defineProperty(r,"__esModule",{value:!0});var s=t(0),a=t(13),l=t(136),d=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),r.prototype.renderIcon=function(){return null},r.prototype.render=function(){var e=this.props,r=e.size,t=i(e,["size"]);return r=r||24,s.createElement("svg",o({viewBox:"0 0 24 24"},t,{className:a(l.root,t.className),style:o({"--svg-icon--size":r+"px"},t.style)}),this.renderIcon(),this.props.children)},r}(s.PureComponent);r.SvgIcon=d},function(e,r){e.exports={root:"svg-icon__root___cS7Lw"}},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(138);t(139),t(140);var s=t(141),a=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),r.prototype._highlight=function(){var e=this.props,r=e.source,t=e.language;return i.languages[t]?i.highlight(r,i.languages[t]):""},r.prototype.render=function(){return o.createElement("div",{className:this.props.className},o.createElement("pre",{className:s.root},o.createElement("code",{dangerouslySetInnerHTML:{__html:this._highlight()}})))},r}(o.PureComponent);r.Code=a},,,,function(e,r){e.exports={root:"code__root___LOUo0"}},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(143),s=t(13),a=t(20),l=t(8),d=t(217),c=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r._codeInlineRenderer=function(e){var r=e.value;return o.createElement("code",{className:d.code},r)},r._codeMultilineRenderer=function(e){var r=e.language,n=e.value;switch(r){case"app.example":var i=JSON.parse(n);return o.createElement(l.CodeView,{main:i.main,files:i.files});case"app.file":r=(i=JSON.parse(n)).language,n=t(67)("./"+i.file);default:return o.createElement(l.Code,{className:d.multilineCode,language:r,source:n})}},r._tableRenderer=function(e){var r=e.children;return o.createElement("div",{className:d.table},o.createElement("table",null,r))},r._linkRenderer=function(e){var r=e.href,t=e.children;return"#"===r[0]?o.createElement("a",{href:r},t):"http"===r.slice(0,4)?o.createElement("a",{href:r,target:"_blank"},t):o.createElement(a.Link,{to:r},t)},r}return n(r,e),r.prototype.render=function(){return o.createElement(i,{escapeHtml:!1,className:s(d.main,this.props.className),source:this.props.source||"",renderers:{inlineCode:this._codeInlineRenderer,code:this._codeMultilineRenderer,table:this._tableRenderer,link:this._linkRenderer}})},r}(o.Component);r.Markdown=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,r){e.exports={code:"markdown__code___13gvn",multilineCode:"markdown__multilineCode___3OVqq",main:"markdown__main___3MgH5",table:"markdown__table___1id50"}},function(e,r){e.exports=":local {\r\n    .exampleContainer {\r\n        height: 100%;\r\n        width: 100%;\r\n    }\r\n    .historyButton {\r\n        border: 0;\r\n        padding: 5px;\r\n        margin: 0;\r\n        box-sizing: border-box;\r\n        background: none;\r\n        cursor: pointer;\r\n        outline: none;\r\n        fill: #808080;\r\n        &:last-child {\r\n            margin-right: 5px;\r\n        }\r\n        &:hover {\r\n            fill: #FFFFFF;\r\n        }\r\n        &[disabled] {\r\n            fill: #505050 !important;\r\n            cursor: default;\r\n        }\r\n    }\r\n}\r\n\r\n// Fix for Safari scrollbar flickering for some screen resolutions when\r\n// custom `--webkit` scrollbars styles are applied.\r\n:global {\r\n    react-bolivianite-grid {\r\n        background: var(--color--accent);\r\n    }\r\n    .scrollview {\r\n        background: white;\r\n    }\r\n}"},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(13),s=t(8),a=t(220),l=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.state={tab:0},r._refControls=null,r._onRef=function(e){r._refControls=e},r}return n(r,e),r.prototype._extractFile=function(e){var r="",t="javascript",n="";return"string"==typeof e?(r=e,n=e):(r=e[0],t=e[1]||t,n=e[2]||r),{filename:r,language:t,caption:n}},r.prototype._renderFileContent=function(){var e=(this.props.files||[])[this.state.tab];if(!e)return null;var r=this._extractFile(e),n=r.filename,i=r.language,l=t(67)("./"+n);return o.createElement(s.Code,{className:a.file,language:i,source:l})},r.prototype._renderArticle=function(){if(!this.props.main)return null;var e=t(221)("./"+this.props.main),r=e&&e.default;return r?o.createElement(r,{refControls:this._refControls}):null},r.prototype._renderTabs=function(){var e=this;return this.props.files?this.props.files.map(function(r,t){var n,s=e._extractFile(r).caption;return o.createElement("button",{key:t,className:i(a.tab,(n={},n[a.tabSelected]=t===e.state.tab,n)),onClick:function(){e.setState({tab:t})}},s)}):null},r.prototype.componentDidMount=function(){this._refControls&&this.forceUpdate()},r.prototype.render=function(){var e=this._renderArticle(),r=this._renderFileContent();return o.createElement("div",{"area-hidden":"true",className:i(a.root,this.props.className)},!!r&&o.createElement("div",{className:a.panel},o.createElement("div",{className:a.tabs},this._renderTabs())),o.createElement("div",{className:a.example},!!r&&o.createElement("div",{className:i(a.container,a.code)},r),!!e&&o.createElement(o.Fragment,null,o.createElement("div",{className:a.controls,ref:this._onRef}),o.createElement("div",{className:a.container},this._renderArticle()))))},r}(o.PureComponent);r.CodeView=l},function(e,r){e.exports={root:"code-view__root___2OSqG",tabs:"code-view__tabs___3_jGk",panel:"code-view__panel___14Z8T",controls:"code-view__controls___X40Ah",container:"code-view__container___3sk5c",code:"code-view__code___1dzXz",file:"code-view__file___2Nt8q",example:"code-view__example___11Ltb",tab:"code-view__tab___310o8",tabSelected:"code-view__tabSelected___GHFS-"}},function(e,r,t){var n={"./autosizing-grid":25,"./autosizing-grid.tsx":25,"./copy-paste-grid":18,"./copy-paste-grid.tsx":18,"./editable-grid":44,"./editable-grid.tsx":44,"./expand-collapse-grid":90,"./expand-collapse-grid.tsx":90,"./filtering-grid":91,"./filtering-grid.tsx":91,"./grouped-headers-grid":46,"./grouped-headers-grid.tsx":46,"./readonly-grid":92,"./readonly-grid.tsx":92,"./repository-cache":93,"./repository-cache.tsx":93,"./resizing-grid":40,"./resizing-grid.tsx":40,"./simple-editor":45,"./simple-editor.tsx":45,"./simple-grid":94,"./simple-grid.tsx":94,"./style":4,"./style.scss":89,"./style.ts":4};function o(e){return t(i(e))}function i(e){var r=n[e];if(!(r+1))throw new Error("Cannot find module '"+e+"'.");return r}o.keys=function(){return Object.keys(n)},o.resolve=i,e.exports=o,o.id=221},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){var r=this;this.props=e,this.onCopy=function(e){var t=e.cells,n=e.repository,o=e.data,i=e.withHeaders,s=e.focus,a=r._getValidatedTable(t);if(a){var l=a.map(function(e){return e.map(function(e){return r.props.renderCell({data:o,repository:n,cell:e})})});if(i&&(n.offsetWidth||n.offsetHeight)){var d=new Set,c=[],p=[],u=a[0],h=a.map(function(e){return e[0]}),f=u.length,y=h.length;n.offsetHeight&&u.forEach(function(e,t){var o=e.column,i=n.columns[o],s=n.getLevel(i);do{c[s]=c[s]||new Array(f).fill(""),c[s][t]=r._renderHeader(i,n.getHeaderType(i),d)}while(s--,i=n.getParent(i))}),n.offsetWidth&&h.forEach(function(e,t){var o=e.row,i=n.rows[o],s=n.getLevel(i);do{p[s]=p[s]||new Array(y).fill(""),p[s][t]=r._renderHeader(i,n.getHeaderType(i),d)}while(s--,i=n.getParent(i))});var m=p.length;p=r._transpose(p),c=c.map(function(e){return new Array(m).fill("").concat(e)}),l=l.map(function(e,r){return(p[r]||[]).concat(e||[])}),l=c.concat(l)}r.props.onCopy({table:l,focus:s})}else r.props.onInvalidSelection&&r.props.onInvalidSelection()},this.onPaste=function(e){var t=e.clipboard,n=e.target,o=e.isReadOnly,i=r.props.clipboardParser(t);if(Array.isArray(i)&&i.length&&Array.isArray(i[0])&&i[0].length){for(var s=[],a=0,l=i.length;a<l;a++)for(var d=0,c=i[a].length;d<c;d++){var p=n.column+d,u=n.row+a;o({row:u,column:p})||s.push({column:p,row:u,value:r.props.cellParser({column:p,row:u,value:i[a][d]})})}s.length&&r.props.onPaste({changes:s})}}}return e.prototype._getValidatedTable=function(e){var r=[];e.forEach(function(e){r[e.row]||(r[e.row]=[]),r[e.row][e.column]=e});var t=null,n=-1;return r.every(function(e){return t?n===e.filter(function(e){return!!e}).length&&t.every(function(r,t){return e[t]&&e[t].column===r.column}):(n=(t=e).filter(function(e){return!!e}).length,!0)})?r.filter(function(e){return!!e}).map(function(e){return e.filter(function(e){return!!e})}):null},e.prototype._renderHeader=function(e,r,t){return t.has(e.$id)?"":(t.add(e.$id),this.props.renderHeader({header:e,type:r}))},e.prototype._transpose=function(e){for(var r=[],t=0,n=e.length;t<n;t++)for(var o=0,i=e[t].length;o<i;o++)(r[o]=r[o]||[])[t]=e[t][o];return r},e}();r.ClipboardController=n},,,,,function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e};Object.defineProperty(r,"__esModule",{value:!0});var i=function(e){function r(r){var t=e.call(this,r)||this;return t._props=r,t._paste=function(e){var r=t._props.getState(),n=r.focused,o=r.readOnly,i=r.selection;n&&!o&&t._props.onPaste({clipboard:e.clipboardData,isReadOnly:function(e){return t._props.onReadOnly(e,"paste")},getAllSelectedCells:function(){return t._getSelectedCells(i)},getLastSelectedCells:function(){var e=t._splitSelection(i).last;return t._getSelectedCells([e])}})},document.body.addEventListener("paste",t._paste),t}return n(r,e),r.prototype._isInput=function(e){var r=e.keyCode,t=this._getModifiers(e),n=t.ctrlKey,o=t.altKey,i=t.macCmdKey;return!(n||o||i)&&(48<=r&&r<=57||65<=r&&r<=90||96<=r&&r<=111||186<=r&&r<=222)},r.prototype._moveSelection=function(e,r,t,n){var i=this._state,s=i.active,a=i.rows,l=i.columns,d=i.selection,c=null,p=null,u=null;if(e&&r){var h=this._splitSelection(d),f=h.prev,y=h.last,m=null;switch(t){case"left":m=o({},y,{column:0,width:s.column}),c={row:null,column:0};break;case"up":m=o({},y,{row:0,height:s.row}),c={row:0,column:null};break;case"right":m=o({},y,{column:s.column,width:l-s.column-1}),c={row:null,column:l-1};break;case"down":m=o({},y,{row:s.row,height:a-s.row-1}),c={row:a-1,column:null}}m&&(u=f.concat([m]))}else if(r){switch(t){case"left":p=this._clampAddress({row:s.row,column:0});break;case"up":p=this._clampAddress({row:0,column:s.column});break;case"right":p=this._clampAddress({row:s.row,column:l-1});break;case"down":p=this._clampAddress({row:a-1,column:s.column})}c=p,u=[o({},p,{width:0,height:0})]}else if(e){var v=this._splitSelection(d),_=(f=v.prev,y=v.last,m=null,n);switch(t){case"left":if(y.column+y.width===s.column){if(y.column){var g=y.column-n;g<0&&(_=n+g,g=0),c={column:(m=o({},y,{column:g,width:y.width+_})).column,row:null}}}else if(y.width){var w=y.width-n;w<0&&(_=n+w,w=0),c={column:(m=o({},y,{column:y.column,width:w})).column+y.width-_,row:null}}break;case"up":if(y.row+y.height===s.row){if(y.row){var b=y.row-n;b<0&&(_=n+b,b=0),c={column:null,row:(m=o({},y,{row:b,height:y.height+_})).row}}}else if(y.height){var H=y.height-n;H<0&&(_=n+H,H=0),c={column:null,row:(m=o({},y,{row:y.row,height:H})).row+y.height-_}}break;case"right":if(y.column===s.column)(C=y.column+y.width)<l-1&&(C+n>l-1&&(_=n>=l-1-C?l-1-y.column:y.width+n-l-1),c={column:(m=o({},y,{width:y.width+_})).column+m.width,row:null});else y.width&&(y.column+_>s.column&&(_=s.column-y.column),c={column:(m=o({},y,{column:y.column+_,width:y.width-_})).column,row:null});break;case"down":var C;if(y.row===s.row)(C=y.row+y.height)<a-1&&(C+n>a-1&&(_=n>=a-1-C?a-1-y.row:C+n-a-1),c={column:null,row:(m=o({},y,{height:y.height+_})).row+m.height});else y.height&&(y.row+_>s.row&&(_=s.row-y.row),c={column:null,row:(m=o({},y,{row:y.row+_,height:y.height-_})).row})}m&&(u=f.concat([m]))}else{switch(t){case"left":p=this._clampAddress({row:s.row,column:s.column-n});break;case"up":p=this._clampAddress({row:s.row-n,column:s.column});break;case"right":p=this._clampAddress({row:s.row,column:s.column+n});break;case"down":p=this._clampAddress({row:s.row+n,column:s.column})}c=p,u=[o({},p,{width:0,height:0})]}(p||u)&&this._props.onUpdateSelection({active:p,selection:u}),c&&this._props.onScroll(c)},r.prototype._onTab=function(e,r){var t=this;e.preventDefault();var n=this._getModifiers(e),i=n.shiftKey,s=n.cmdKey,a=this._state,l=a.active,d=a.rows,c=a.columns,p=a.selection;if(!s){var u=this._splitSelection(p).last,h=0,f=0,y=d-1,m=c-1,v=!1;l=o({},l),(u.height||u.width)&&(v=!0,h=u.row,f=u.column,y=h+u.height,m=f+u.width),i?(l.column--,l.column<f&&(l.column=m,l.row--),l.row<h&&(l.row=y)):(l.column++,l.column>m&&(l.column=f,l.row++),l.row>y&&(l.row=h)),this._props.onUpdateSelection({active:l,selection:v?null:[o({},l,{height:0,width:0})]},function(){t._props.onScroll(l),r&&r()})}},r.prototype._onEnter=function(e,r){var t=this;e.preventDefault();var n=this._getModifiers(e),i=n.shiftKey,s=n.cmdKey,a=this._state,l=a.active,d=a.rows,c=a.selection;if(s)this._props.onOpenEditor(l);else{var p=this._splitSelection(c).last,u=0,h=l.column,f=d-1,y=l.column,m=!1;l=o({},l),(p.height||p.width)&&(m=!0,u=p.row,h=p.column,f=u+p.height,y=h+p.width),i?(l.row--,m?(l.row<u&&(l.row=f,l.column--),l.column<h&&(l.column=y)):l.row<0&&(l.row=0)):(l.row++,m?(l.row>f&&(l.row=u,l.column++),l.column>y&&(l.column=h)):l.row>d-1&&(l.row=d-1)),this._props.onUpdateSelection({active:l,selection:m?null:[o({},l,{height:0,width:0})]},function(){t._props.onScroll(l),r&&r()})}},r.prototype._onSpace=function(e){if(e.preventDefault(),!this._state.readOnly){var r=this._getSelectedCells(this._state.selection);this._props.onSpace(r)}},r.prototype._onPageUpDown=function(e){e.preventDefault();var r=this._getModifiers(e),t=r.shiftKey,n=r.cmdKey,o=r.altKey,i=this._state.view,s=33===e.keyCode?o?"left":"up":o?"right":"down",a=i.lastColumn-i.firstColumn,l=i.lastRow-i.firstRow;switch(e.keyCode){case 37:s="left";break;case 38:s="up";break;case 39:s="right";break;case 40:s="down"}this._moveSelection(t,n,s,o?a:l)},r.prototype._onHomeEnd=function(e){var r=this._getModifiers(e),t=r.shiftKey,n=r.cmdKey;if(!r.altKey){e.preventDefault();var i=36===e.keyCode?"home":"end",s=this._state,a=s.active,l=s.rows,d=s.columns,c=s.selection,p=null,u=null,h={row:n?"home"===i?0:l-1:a.row,column:"home"===i?0:d-1};if(t)u=this._splitSelection(c).prev.concat([{row:n&&"home"===i?0:a.row,column:"home"===i?0:a.column,height:n?"home"===i?a.row:l-a.row-1:0,width:"home"===i?a.column:d-a.column-1}]);else u=[o({},p=h,{width:0,height:0})];this._props.onUpdateSelection({active:p,selection:u}),this._props.onScroll(h)}},r.prototype._onArrows=function(e){e.preventDefault();var r,t=this._getModifiers(e),n=t.shiftKey,o=t.cmdKey;switch(e.keyCode){case 37:r="left";break;case 38:r="up";break;case 39:r="right";break;case 40:r="down"}this._moveSelection(n,o,r,1)},r.prototype._onCopy=function(e){var r=this._getSelectedCells(this._state.selection);this._props.onCopy(r,e)},r.prototype._onNullify=function(){if(!this._state.readOnly){var e=this._getSelectedCells(this._state.selection);this._props.onNullify(e)}},r.prototype._onRemove=function(){if(!this._state.readOnly){var e=new Set,r=new Set;this._getSelectedCells(this._state.selection).forEach(function(t){var n=t.column,o=t.row;e.add(o),r.add(n)}),this._props.onRemove({rows:Array.from(e).sort(),columns:Array.from(r).sort()})}},r.prototype._onSelectAll=function(e){if(e.preventDefault(),this._getModifiers(e).cmdKey){var r=this._state,t=r.rows,n=r.columns;this._props.onUpdateSelection({selection:[{row:0,column:0,width:n-1,height:t-1}]})}},r.prototype._onData=function(e){var r=this._getModifiers(e),t=r.cmdKey,n=r.altKey,o=r.shiftKey;switch(e.keyCode){case 45:if(!t)break;e.preventDefault(),this._onCopy(o||n);break;case 8:case 46:e.preventDefault(),o&&!t?(this._onCopy(!1),this._onNullify()):!o&&t?this._onRemove():o||t||this._onNullify();break;case 67:if(!t)break;e.preventDefault(),this._onCopy(o||n);break;case 86:if(!t)break;break;case 88:if(!t)break;e.preventDefault(),this._onCopy(!1),this._onNullify()}},r.prototype.keydown=function(e){var r=this,t=this._request(),n=t.editor,i=t.active,s=t.focused,a=t.rows,l=t.columns;if(a&&l)if(n)switch(e.keyCode){case 9:this._props.onCloseEditor(!0,function(){r._onTab(e,function(){r._props.onOpenEditor(r._request().active)})});break;case 13:this._props.onCloseEditor(!0,function(){r._onEnter(e,function(){r._props.onOpenEditor(r._request().active)})});break;case 27:this._props.onCloseEditor(!1)}else if(s)if(this._isInput(e))this._props.onOpenEditor(i);else switch(e.keyCode){case 9:this._onTab(e);break;case 13:this._onEnter(e);break;case 32:this._onSpace(e);break;case 33:case 34:this._onPageUpDown(e);break;case 35:case 36:this._onHomeEnd(e);break;case 37:case 38:case 39:case 40:this._onArrows(e);break;case 65:this._onSelectAll(e);break;case 8:case 45:case 46:case 67:case 86:case 88:this._onData(e);break;case 113:this._props.onOpenEditor(o({},i))}},r.prototype.dispose=function(){document.body.removeEventListener("paste",this._paste)},r}(t(39).Controller);r.KeyboardController=i,r.default=i},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),o=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e};Object.defineProperty(r,"__esModule",{value:!0});var i=t(17),s=function(e){function r(r){var t=e.call(this,r)||this;return t._props=r,t._lastMouseDown={time:0,row:-1,column:-1},t._down=null,t._scrollBySelect=null,t._scrollTask=null,t._autoscroll=function(){if(t._scrollBySelect){var e=t._request(),r=e.rows,n=e.columns,o=e.view,i=t._scrollBySelect,s=i.h,a=i.v,l={row:null,column:null};"L"===s?o.firstColumn&&(l.column=o.firstColumn-1):"R"===s&&o.lastColumn!==n-1&&(l.column=o.lastColumn+1),"T"===a?o.firstRow&&(l.row=o.firstRow-1):"B"===a&&o.lastRow!==r-1&&(l.row=o.lastRow+1),t._props.onScroll(l)}},t._mouseup=function(){t._down=null,t.rootenter()},window.addEventListener("mouseup",t._mouseup),t}return n(r,e),r.prototype._mouseSelectFromActive=function(e,r){var t=this._state,n=t.selection,o=t.active,i=this._splitSelection(n).prev,s={row:e,column:r,width:0,height:0};r<=o.column?s.width=o.column-r:(s.column=o.column,s.width=r-o.column),e<=o.row?s.height=o.row-e:(s.row=o.row,s.height=e-o.row),this._props.onUpdateSelection({selection:i.concat([s])})},r.prototype.rootleave=function(e,r,t){this._down&&(this._request(),this._scrollBySelect={h:null,v:null},e<=t.left?this._scrollBySelect.h="L":e>=t.left+t.width&&(this._scrollBySelect.h="R"),r<=t.top?this._scrollBySelect.v="T":r>=t.top+t.height&&(this._scrollBySelect.v="B"),this._scrollTask=setInterval(this._autoscroll,50))},r.prototype.rootenter=function(){this._scrollTask&&(clearInterval(this._scrollTask),this._scrollTask=null),this._scrollBySelect=null},r.prototype.mouseenter=function(e,r){this._down&&(this._request(),this._mouseSelectFromActive(e,r))},r.prototype.headerdown=function(e,r,t,n){if(void 0===n&&(n=t),!e.defaultPrevented&&(e.preventDefault(),0===e.button)){var s=this._request(),a=s.editor,l=s.rows,d=s.columns;if(!a){var c={row:r===i.HeaderType.Column?0:t,column:r===i.HeaderType.Column?t:0};this._props.onUpdateSelection({active:c,selection:[o({},c,{height:r===i.HeaderType.Column?l-1:n-t,width:r===i.HeaderType.Column?n-t:d-1})]})}}},r.prototype.mousedown=function(e,r,t){var n=this,o=this._request(),i=o.selection,s=o.editor,a=this._getModifiers(e),l=a.cmdKey,d=a.shiftKey,c=s&&s.row===r&&s.column===t;if(c||1===e.button||e.preventDefault(),s&&!c&&1!==e.button&&this._props.onCloseEditor(!0),!l&&d&&0===e.button)this._mouseSelectFromActive(r,t),this._down={row:r,column:t};else if(l&&!d&&0==e.button)this._props.onUpdateSelection({active:{row:r,column:t},selection:i.concat([{row:r,column:t,height:0,width:0}])}),this._down={row:r,column:t};else if(0===e.button){this._props.onUpdateSelection({active:{row:r,column:t},selection:[{row:r,column:t,height:0,width:0}]});var p=Date.now(),u=!c&&p-this._lastMouseDown.time<500&&this._lastMouseDown.row===r&&this._lastMouseDown.column===t;this._lastMouseDown.time=p,this._lastMouseDown.row=r,this._lastMouseDown.column=t,u?(this._down=null,s?this._props.onCloseEditor(!0,function(){n._props.onOpenEditor({row:r,column:t})}):this._props.onOpenEditor({row:r,column:t})):this._down={row:r,column:t}}else if(2===e.button){e.persist();var h={row:r,column:t},f=this._isInsideSelection(h,i);this._props.onRightClick(h,e,function(){n._props.onUpdateSelection({active:{row:r,column:t},selection:[{row:r,column:t,height:0,width:0}]})},f)}},r.prototype.dispose=function(){this.rootenter(),window.removeEventListener("mouseup",this._mouseup)},r}(t(39).Controller);r.MouseController=s,r.default=s},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){var e=this;this._ids=0,this._tasks={},this._active=!0,this._step=function(){for(var r=0,t=0,n=Object.keys(e._tasks);t<n.length;t++){var o=n[t],i=e._tasks[o];i&&i(),delete e._tasks[o],r++}r?window.requestAnimationFrame(e._step):e._active=!1},window.requestAnimationFrame(this._step)}return e.prototype.create=function(){var e=this,r=this._ids++;return function(t){e._tasks[r]=t,e._active||(e._active=!0,window.requestAnimationFrame(e._step))}},e}();r.RenderThrottler=n,r.default=n},function(e,r,t){"use strict";function n(e,r){var t=null;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];t&&clearTimeout(t),t=setTimeout(function(){t=null,r.apply(void 0,n)},e)}}Object.defineProperty(r,"__esModule",{value:!0}),r.debounce=n,r.default=n},function(e,r,t){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e};Object.defineProperty(r,"__esModule",{value:!0});var o=t(17),i=function(){function e(e){this._idCounter=0,this._idMap={},e&&(this._state=n({},e,{offsetWidth:0,offsetHeight:0,viewColumns:null,viewRows:null,viewLeftLevels:0,viewTopLevels:0,leftLevels:{},topLevels:{},types:{},indices:{},positions:{},levels:{},parents:{},headerManualResized:new Set,levelManualResized:new Set}),this._state.viewColumns=this._create(e.columns,[],o.HeaderType.Column,e.filter),this._state.viewRows=this._create(e.rows,[],o.HeaderType.Row,e.filter),this._calcPosition(),this._calcLevels())}return Object.defineProperty(e.prototype,"columnWidth",{get:function(){return this._state.columnWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rowHeight",{get:function(){return this._state.rowHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headersHeight",{get:function(){return this._state.headersHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headersWidth",{get:function(){return this._state.headersWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetWidth",{get:function(){return this._state.cache?this._state.cache.getOffset("left"):this._state.offsetWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offsetHeight",{get:function(){return this._state.cache?this._state.cache.getOffset("top"):this._state.offsetHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLevels",{get:function(){return this._state.cache?this._state.cache.getLevels("top"):this._state.viewTopLevels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftLevels",{get:function(){return this._state.cache?this._state.cache.getLevels("left"):this._state.viewLeftLevels},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._state.viewColumns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._state.viewRows},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{source:{rows:this._state.rows,columns:this._state.columns},view:{rows:this.rows,columns:this.columns},settings:{columnWidth:this.columnWidth,rowHeight:this.rowHeight,headersHeight:this.headersHeight,headersWidth:this.headersWidth,canvasHeight:this.offsetHeight,canvasWidth:this.offsetWidth,topLevels:this.topLevels,leftLevels:this.leftLevels,filter:!!this._state.filter}}},e.prototype._create=function(e,r,t,n,o){var i=this;return e.forEach(function(e){e.$id=e.$id||++i._idCounter,i._state.positions[e.$id]=0,o&&(i._state.parents[e.$id]=o),n&&!n({header:e,type:t})||(!e.$collapsed&&e.$children&&e.$children.length?i._create(e.$children,r,t,n,e):r.push(e))}),r},e.prototype._createClone=function(){var r=new e(null);return r._state=n({},this._state,{leftLevels:n({},this._state.leftLevels),topLevels:n({},this._state.topLevels),types:n({},this._state.types),indices:n({},this._state.indices),positions:n({},this._state.positions),levels:n({},this._state.levels),parents:n({},this._state.parents),headerManualResized:new Set(this._state.headerManualResized),levelManualResized:new Set(this._state.levelManualResized)}),r},e.prototype._applyHeaderLevel=function(e){for(var r=0,t=e;this._state.parents[t.$id];)r++,t=this._state.parents[t.$id];return this._state.levels[e.$id]=r,this._state.parents[e.$id]&&this._applyHeaderLevel(this._state.parents[e.$id]),r},e.prototype._applyParentPosition=function(e,r){var t=this,n=new Set,o=[];e.forEach(function(e){t._idMap[e.$id]=e,t._state.types[e.$id]=r;var i=e.$children[0],s=e.$children[e.$children.length-1];t._state.positions[e.$id]=t._state.positions[i.$id],e.$size=t._state.positions[s.$id]+t.getSize(s)-t._state.positions[i.$id],t._state.cache&&t._state.cache.setHeaderSize(e.$size,e,r);var a=t._state.parents[e.$id];a&&!n.has(a.$id)&&(n.add(a.$id),o.push(a))}),o.length&&this._applyParentPosition(o,r)},e.prototype._proceedHeaders=function(e,r,t,n){var o=e.length;if(!o)return 0;for(var i=this._state.positions[e[r].$id],s=0,a=new Set,l=[],d=r;d<o;d++){var c=e[d];if(this._state.indices[c.$id]=!c.$collapsed&&c.$children&&c.$children[0]?-1:d,this._state.positions[c.$id]=i,this._state.types[c.$id]=n,this._idMap[c.$id]=c,!c.$size||!c.$sizeCollapsed){var p=this._state.cache&&this._state.cache.getHeaderSize(c,n)||t;c.$size||(c.$size=p),c.$sizeCollapsed||(c.$sizeCollapsed=p)}this._state.cache&&this._state.cache.setHeaderSize(c.$collapsed?c.$sizeCollapsed:c.$size,c,n),i+=this.getSize(c);var u=this._applyHeaderLevel(c);u>s&&(s=u);var h=this._state.parents[c.$id];h&&!a.has(h.$id)&&(a.add(h.$id),l.push(h))}return l.length&&this._applyParentPosition(l,n),s+1},e.prototype._calcLevels=function(){for(var e=0,r=0,t=0;t<this.leftLevels;t++)e+=this.getLeftLevelWidth(t);for(t=0;t<this.topLevels;t++)r+=this.getTopLevelHeight(t);this._state.offsetWidth=e||this._state.headersWidth,this._state.offsetHeight=r||this._state.headersHeight,this._state.cache&&(this._state.cache.setOffset(this._state.offsetWidth,"left"),this._state.cache.setOffset(this._state.offsetHeight,"top"))},e.prototype._calcPosition=function(e){void 0===e&&(e=0),this._state.viewTopLevels=this._proceedHeaders(this._state.viewColumns,e,this._state.columnWidth,o.HeaderType.Column),this._state.viewLeftLevels=this._proceedHeaders(this._state.viewRows,e,this._state.rowHeight,o.HeaderType.Row),this._state.cache&&(this._state.cache.setLevels(this._state.viewLeftLevels,"left"),this._state.cache.setLevels(this._state.viewTopLevels,"top"))},e.prototype._getLevelPosition=function(e,r){if(r>=("left"===e?this.leftLevels:this.topLevels))return 0;for(var t=0,n=0;n<r;n++)t+="left"===e?this.getLeftLevelWidth(n):this.getTopLevelHeight(n);return t},e.prototype._getLeaves=function(e,r){var t=this;return void 0===r&&(r=[]),!e.$collapsed&&e.$children&&e.$children.length?(e.$children.forEach(function(e){return t._getLeaves(e,r)}),r):(r.push(e),r)},e.prototype._getAllNodesByChildren=function(e,r,t){var n=this;return void 0===r&&(r=new Set),void 0===t&&(t=[]),e.forEach(function(e){e&&(r.has(e.$id)||(t.push(e),r.add(e.$id)),e.$children&&e.$children.length&&n._getAllNodesByChildren(e.$children,r,t))}),t},e.prototype._getAllNodesByParents=function(e,r,t){var n=this;void 0===r&&(r=new Set),void 0===t&&(t=[]);var o=function(e){e&&(r.has(e.$id)||(t.push(e),r.add(e.$id)),o(n.getParent(e)))};return e.forEach(function(e){o(e)}),t},e.prototype._getResizeList=function(e,r,t){var n=this;!e.$collapsed&&e.$children&&e.$children.length||(r=t({header:e,type:this._state.types[e.$id],size:r}));var o=this.getSize(e);if(e.$collapsed||!e.$children||!e.$children.length)return[{header:e,size:r}];var i=this.getHeaderLeaves(e),s=0;return t&&i.forEach(function(i){var a=Math.floor(n.getSize(i)*r/o),l=t({header:e,type:n._state.types[e.$id],size:a-s});a<l&&(s+=l-a)}),i.map(function(e){return{header:e,size:t({header:e,type:n._state.types[e.id],size:Math.floor(n.getSize(e)*r/o)-s})}})},e.prototype._getHeaderAddress=function(e,r){for(var t=[],n=e;n;){var o=this.getParent(n),i=(o?o.$children:r).findIndex(function(e){return e.$id===n.$id});t.push(i),n=o}return t.push(-1),t.reverse()},e.prototype._mapBranch=function(e,r,t){var o=this;if(!r)return r;var i=e.length;return r.map(function(r){return i?n({},r,{$children:o._mapBranch(e.slice(1),r.$children,t)}):t(r)})},e.prototype._recalcHeaders=function(){return this._state.viewColumns=null,this._state.viewRows=null,this._state.types={},this._state.indices={},this._state.positions={},this._state.levels={},this._state.parents={},this._state.viewColumns=this._create(this._state.columns,[],o.HeaderType.Column,this._state.filter),this._state.viewRows=this._create(this._state.rows,[],o.HeaderType.Row,this._state.filter),this._calcPosition(),this._calcLevels(),this},e.prototype._updateHeaders=function(e,r){var t=this,o=Object.keys(e);return o.length?(o.forEach(function(o){var i=o.split("/").filter(function(e){return!!e}).map(Number),s=e[o];i.shift(),r=t._mapBranch(i,r,function(e){var r=s[e.$id];if(!r)return e;var t=n({},e);return Object.keys(r).forEach(function(e){"$id"!==e&&(t[e]=r[e])}),t})}),r):r},e.prototype.getHeader=function(e){return this._idMap[e]},e.prototype.getHeaderType=function(e){return this._state.types[e.$id]},e.prototype.getViewIndex=function(e){return this._state.indices[e.$id]},e.prototype.getPosition=function(e){return this._state.positions[e.$id]},e.prototype.getManualResized=function(e){return this._state.cache?this._state.cache.getHeaderLock(e,this._state.types[e.$id]):this._state.headerManualResized.has(e.$id)},e.prototype.getManualResizedLevel=function(e,r){return this._state.cache?this._state.cache.getLevelLock(r,e):this._state.levelManualResized.has(e+":"+r)},e.prototype.getLevel=function(e){return this._state.levels[e.$id]},e.prototype.getPositionLevel=function(e){var r=this.getLevel(e),t=(this._state.types[e.$id]===o.HeaderType.Column?this.topLevels:this.leftLevels)-1,n=e.$children&&e.$children.length;return r<t&&(e.$collapsed||!n)?t:r},e.prototype.getParent=function(e){return this._state.parents[e.$id]},e.prototype.getTopLevelPosition=function(e){return this._getLevelPosition("top",e)},e.prototype.getLeftLevelPosition=function(e){return this._getLevelPosition("left",e)},e.prototype.getSize=function(e){return e?this._state.cache?this._state.cache.getHeaderSize(e,this._state.types[e.$id]):e.$collapsed?e.$sizeCollapsed:e.$size:0},e.prototype.getLeftLevelWidth=function(e,r){return r?this.offsetWidth-this.getLeftLevelPosition(e):(this._state.cache?this._state.cache.getLevelSize(e,"left"):this._state.leftLevels[e])||this._state.headersWidth},e.prototype.getTopLevelHeight=function(e,r){return r?this.offsetHeight-this.getTopLevelPosition(e):(this._state.cache?this._state.cache.getLevelSize(e,"top"):this._state.topLevels[e])||this._state.headersHeight},e.prototype.getHeaderLeaves=function(e){return this._getLeaves(e)},e.prototype.getNodesTopDown=function(e){return this._getAllNodesByChildren(e)},e.prototype.getNodesBottomUp=function(e){return this._getAllNodesByParents(e)},e.prototype.getSource=function(){return{cache:this._state.cache,columns:this._state.columns,rows:this._state.rows,columnWidth:this._state.columnWidth,rowHeight:this._state.rowHeight,headersHeight:this._state.headersHeight,headersWidth:this._state.headersWidth,filter:this._state.filter}},e.prototype.updateFilter=function(e){if(this._state.filter===e)return this;var r=this._createClone();return r._state.filter=e,r._recalcHeaders()},e.prototype.updateHeaders=function(e){var r=this,t={},n={};e.forEach(function(e){var i=e.header,s=e.update,a=r._state.types[i.$id],l=r._getHeaderAddress(i,a===o.HeaderType.Row?r._state.rows:r._state.columns),d=a===o.HeaderType.Column?t:n,c=l.slice(0,l.length-1).join("/");d[c]||(d[c]={}),d[c][i.$id]=s});var i=this._createClone();return i._state.columns=this._updateHeaders(t,i._state.columns),i._state.rows=this._updateHeaders(n,i._state.rows),i=i._recalcHeaders()},e.prototype.resizeHeaders=function(e){var r=this,t=e.headers,n=e.clamp,o=e.behavior;if(!t||!t.length)return this;n=n||function(e){return e.size},o=o||"manual";var i=[],s=[];t.forEach(function(e){r._getResizeList(e.header,e.size,n).forEach(function(e){var t=e.header,n=e.size;s.push(t),i.push({header:t,update:t.$collapsed?{$sizeCollapsed:n}:{$size:n}}),r._state.cache&&r._state.cache.setHeaderSize(n,t,r._state.types[t.$id])})});var a=this.updateHeaders(i);switch(o){case"manual":case"reset":var l="manual"===o;s.forEach(function(e){l?(a._state.headerManualResized.add(e.$id),a._state.cache&&a._state.cache.setHeaderLock(!0,e,r._state.types[e.$id])):(a._state.headerManualResized.delete(e.$id),a._state.cache&&a._state.cache.setHeaderLock(!1,e,r._state.types[e.$id]))})}return a},e.prototype.resizeLevels=function(e){var r=e.levels,t=e.behavior;t=t||"manual";for(var n=this._createClone(),i=0,s=r;i<s.length;i++){var a=s[i],l=a.level,d=a.type,c=a.size,p=a.max,u=a.min;u=null==u?5:u,p=null==p?1/0:p;var h=Math.min(Math.max(u,c),p);switch(d===o.HeaderType.Column?(n._state.cache&&n._state.cache.setLevelSize(h,l,"top"),n._state.topLevels[l]=h):(n._state.cache&&n._state.cache.setLevelSize(h,l,"left"),n._state.leftLevels[l]=h),t){case"manual":case"reset":var f=d+":"+l;"manual"===t?(n._state.levelManualResized.add(f),n._state.cache&&n._state.cache.setLevelLock(!0,l,d)):(n._state.levelManualResized.delete(f),n._state.cache&&n._state.cache.setLevelLock(!1,l,d))}}return n._recalcHeaders()},e.prototype.update=function(e){var r=this._createClone();return r._state=n({},r._state,e),r._recalcHeaders()},e}();r.HeaderRepository=i,r.default=i},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(){this._level={top:{},left:{}},this._levels={left:0,top:0},this._offset={left:0,top:0},this._levelLock=new Set}return e.prototype.getHeaderSize=function(e,r){throw new Error("HeaderRepositoryCache.getSize is not implemented.")},e.prototype.setHeaderSize=function(e,r,t){throw new Error("HeaderRepositoryCache.setSize is not implemented.")},e.prototype.getHeaderLock=function(e,r){throw new Error("HeaderRepositoryCache.getHeaderLock is not implemented.")},e.prototype.setHeaderLock=function(e,r,t){throw new Error("HeaderRepositoryCache.setHeaderLock is not implemented.")},e.prototype.getLevelSize=function(e,r){return this._level[r][e]||0},e.prototype.setLevelSize=function(e,r,t){this._level[t][r]=e},e.prototype.getLevels=function(e){return this._levels[e]||0},e.prototype.setLevels=function(e,r){this._levels[r]=e},e.prototype.getOffset=function(e){return this._offset[e]||0},e.prototype.setOffset=function(e,r){this._offset[r]=e},e.prototype.getLevelLock=function(e,r){return this._levelLock.has(r+":"+e)},e.prototype.setLevelLock=function(e,r,t){this._levelLock[e?"add":"delete"](t+":"+r)},e}();r.HeaderRepositoryCache=n},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(26),i=t(17),s=t(81),a=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r._moving=null,r._moveListener=null,r._upListener=null,r._escListener=null,r._moved=!1,r._onMouseDown=function(e){if(r._moved=!1,e.preventDefault(),0===e.button){var t=e.currentTarget.getAttribute("x-type"),n="r"===t?e.pageX:e.pageY,o=r._repository.getHeaderType(r.props.header)===i.HeaderType.Row;r._unbind();var s=Date.now(),a="r"===t?o?"left-level":"column":o?"row":"top-level";if(r._lastClick&&r._lastClick.type===a&&s-r._lastClick.time<500){r._grid.previewResizeHeader(null),r._grid.previewResizeLevel(null),r._unbind();var l="column"===a||"row"===a?"cells":"levels";r._grid.autoMeasure([r.props.header],l)}else{r._moving={type:a,start:n},r._lastClick={type:a,time:s};var d=0;window.addEventListener("mouseup",r._upListener=function(){r._onChange(d),r._moved=!1,r._grid.previewResizeHeader(null),r._grid.previewResizeLevel(null),r._unbind()}),window.addEventListener("keydown",r._escListener=function(e){27===e.keyCode&&r._unbind()}),document.body.addEventListener("mousemove",r._moveListener=function(e){if(r._moving){r._moved=!0;var n="r"===t?e.pageX:e.pageY;d=n-r._moving.start,r._onMove(d)}})}}},r}return n(r,e),r.prototype._unbind=function(){this._moving&&(this._grid.previewResizeHeader(null),this._grid.previewResizeLevel(null)),this._moveListener&&(document.body.removeEventListener("mousemove",this._moveListener),this._moveListener=null),this._upListener&&(window.removeEventListener("mouseup",this._upListener),this._upListener=null),this._escListener&&(window.removeEventListener("keydown",this._escListener),this._escListener=null),this._moving=null},r.prototype._onMove=function(e){if(this._moving){var r=this._moving.type,t=this.props.header;switch(r){case"column":case"row":this._grid.previewResizeHeader({header:t,change:e});break;case"left-level":case"top-level":this._grid.previewResizeLevel({header:t,change:e})}}},r.prototype._onChange=function(e){if(this._moving&&this._moved){var r=this._moving.type,t=this.props.header;switch(r){case"column":case"row":this._grid.resizeHeaders({behavior:"manual",headers:[{type:"row"===r?i.HeaderType.Row:i.HeaderType.Column,header:t,size:this._repository.getSize(t)+e}]});break;case"left-level":case"top-level":var n="left-level"===r?this._repository.getLeftLevelWidth(this._repository.getPositionLevel(t)):this._repository.getTopLevelHeight(this._repository.getPositionLevel(t));this._grid.resizeHeaders({behavior:"manual",levels:[{type:"left-level"===r?i.HeaderType.Row:i.HeaderType.Column,level:this._repository.getPositionLevel(t),size:n+e}]})}}},r.prototype.componentWillUnmount=function(){this._unbind()},r.prototype.render=function(){var e=this;return o.createElement(s.default.Consumer,null,function(t){var n=t.grid,i=t.repository;return e._grid=n,e._repository=i,o.createElement(o.Fragment,null,o.createElement("div",{"x-type":"r",style:r._r,onMouseDown:e._onMouseDown}),o.createElement("div",{"x-type":"b",style:r._b,onMouseDown:e._onMouseDown}))})},r._r={position:"absolute",right:0,top:0,bottom:0,width:6,cursor:"col-resize"},r._b={position:"absolute",right:0,height:6,bottom:0,left:0,cursor:"row-resize"},r}(o.PureComponent);r.Resizer=a,r.default=a},,,,,function(e,r){},,function(e,r){},,,,,,,,,function(e,r,t){"use strict";function n(e){for(var t in e)r.hasOwnProperty(t)||(r[t]=e[t])}Object.defineProperty(r,"__esModule",{value:!0}),n(t(250)),n(t(251)),n(t(252)),n(t(253))},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(8),s=["M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-",".6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 ","2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-","3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 ","3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.","5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3"].join(""),a=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),r.prototype.renderIcon=function(){return o.createElement("path",{d:s})},r}(i.SvgIcon);r.GitHubIcon=a},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),r.prototype.renderIcon=function(){return o.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})},r}(t(8).SvgIcon);r.MenuIcon=i},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),r.prototype.renderIcon=function(){return o.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})},r}(t(8).SvgIcon);r.HomeIcon=i},function(e,r,t){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])};return function(r,t){function n(){this.constructor=r}e(r,t),r.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),i=t(8),s=["M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-6 8h-4v-2h4v2zm0-4h-4v-2h4v2z"].join(""),a=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return n(r,e),r.prototype.renderIcon=function(){return o.createElement("path",{d:s})},r}(i.SvgIcon);r.IssuesIcon=a},function(e,r){e.exports={main:"app__main___112Pi",footer:"app__footer___3RQpa",footerContent:"app__footerContent___2tv1D",navigation:"app__navigation___1izG6",menu:"app__menu___1Rltx",content:"app__content___25fKl",articleBody:"app__articleBody___2T2rF",articleBlur:"app__articleBlur___1wqvu",articleChunk:"app__articleChunk___26KLg",navigationOpened:"app__navigationOpened___1I10Z",menuOpened:"app__menuOpened___1e3TC"}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(95);r.default=n.Article("","Home",t(256)).append(n.Group("examples","Examples").append(n.Article("simple","Simple",t(257))).append(n.Article("editable","Editable",t(258))).append(n.Article("copy-and-paste","Copy and paste",t(259))).append(n.Article("readonly","Read only",t(260))).append(n.Article("filtering","Filtering",t(261))).append(n.Article("resizing","Resizing",t(262))).append(n.Article("autosizing","Autosizing",t(263))).append(n.Article("repository-cache","Repository cache",t(264))).append(n.Article("grouped-headers","Grouped headers",t(265))).append(n.Article("expand-collapse","Expand/Collapse",t(266)))).append(n.Group("api","Api").append(n.Article("grid","Grid",t(267))).append(n.Article("editor","Editor",t(268))).append(n.Article("headers","Headers",t(269))).append(n.Article("clipboard","Clipboard",t(270))))},function(e,r){e.exports='# React bolivianite grid\r\nReact grid component for virtualized rendering large tabular data.\r\n\r\n```app.example\r\n{\r\n    "main": "autosizing-grid.tsx"\r\n}\r\n```\r\n\r\n## Installation\r\n|Package manager|Command|\r\n|:--|:--|\r\n|NPM|`npm i react-bolivianite-grid`|\r\n|Yarn|`yarn add react-bolivianite-grid`|\r\n\r\n## Requirements\r\nReact.js at least v16.3\r\n\r\n## License\r\nThe MIT License'},function(e,r){e.exports='# Simple example of grid\r\n\r\nComponent uses two main properties: `repository` and `data`. First property is required, and\r\nit is a source for Grid component. You can even render table without providing `data` property.\r\n\r\nGrid uses pair of headers to render each cell, for each pair you must return corresponding to it value.\r\n\r\nRepository contains all headers: rows and columns.\r\nEach header must implement [IHeader](/api/headers#IHeader) interface.\r\n\r\nHeader can contain `$id` property - unique header identifier.\r\nThis identifiers must be unique for all row and column headers.\r\nIf this property is omitted, [HeaderRepository](/api/headers) will assign these ids automatically.\r\nNote, that in this case this will be a mutation of header objects.\r\n\r\n\r\n```app.example\r\n{\r\n    "main": "simple-grid.tsx",\r\n    "files": [\r\n        ["simple-grid.tsx", "javascript", "main.tsx"],\r\n        ["style.ts", "typescript"]\r\n    ]\r\n}\r\n```'},function(e,r){e.exports='# Editable grid\n\nExample of editable grid with Undo/Redo features.\n\n```app.example\n{\n    "main": "editable-grid.tsx",\n    "files": [\n        ["editable-grid.tsx", "javascript", "main.tsx"],\n        ["simple-editor.tsx", "javascript"],\n        ["style.ts", "javascript"],\n        ["style.scss", "css"]\n    ]\n}\n```\n'},function(e,r){e.exports='# Copy and paste\n\nExample of grid, based on [this](/examples/editable) example, that adds copy/paste features.\n\nNotes:\n- `CMD/CTRL`+`C` - copy cells\n- `CMD/CTRL`+`OPT/ALT`+`C` - copy cells with headers\n\n```app.example\n{\n    "main": "copy-paste-grid.tsx",\n    "files": [\n        ["copy-paste-grid.tsx", "javascript", "main.tsx"],\n        ["editable-grid.tsx", "javascript"],\n        ["simple-editor.tsx", "javascript"],\n        ["style.ts", "javascript"],\n        ["style.scss", "css"]\n    ]\n}\n```\n'},function(e,r){e.exports='# Editable grid\r\n\r\nTo turn whole grid read only, pass `readOnly` prop. This example covers local read only feature.\r\n\r\nLocal read only can be achieved with two ways:\r\n\r\n1. `$readOnly` property in header.\r\n2. Using `onReadOnly` grid function prop.\r\n\r\n```app.example\r\n{\r\n    "main": "readonly-grid.tsx",\r\n    "files": [\r\n        ["readonly-grid.tsx", "javascript", "main.tsx"],\r\n        ["copy-and-paste.tsx", "javascript"],\r\n        ["editable-grid.tsx", "javascript"],\r\n        ["simple-editor.tsx", "javascript"],\r\n        ["style.ts", "javascript"],\r\n        ["style.scss", "css"]\r\n    ]\r\n}\r\n```\r\n'},function(e,r){e.exports='# Filter headers\n\n```app.example\n{\n    "main": "filtering-grid.tsx",\n    "files": [\n        ["filtering-grid.tsx", "javascript", "main.tsx"],\n        ["copy-paste-grid.tsx", "javascript"],\n        ["editable-grid.tsx", "javascript"]\n    ]\n}\n```\n'},function(e,r){e.exports='# Resizable columns and rows\n\nTo add ability manually resize headers just put `Resizer` component inside your rendered header\nand provide resize handlers to Grid component.\n\n```app.example\n{\n    "main": "resizing-grid.tsx",\n    "files": [\n        ["resizing-grid.tsx", "javascript", "main.tsx"],\n        ["editable-grid.tsx", "javascript"],\n        ["style.ts", "javascript"],\n        ["style.scss", "css"]\n    ]\n}\n```\n'},function(e,r){e.exports='# Autosizing\r\n\r\nColumn autosize example. Try to type something long, resize header and then double click on resizer to reset its width.\r\n\r\n```app.example\r\n{\r\n    "main": "autosizing-grid.tsx",\r\n    "files": [\r\n        ["autosizing-grid.tsx", "javascript", "main.tsx"],\r\n        ["resizing-grid.tsx", "javascript"],\r\n        ["editable-grid.tsx", "javascript"],\r\n        ["style.ts", "javascript"],\r\n        ["style.scss", "css"]\r\n    ]\r\n}\r\n```\r\n'},function(e,r){e.exports='# Repository cache\r\nRepository cache is a special instance of external storage for all header and level sizes.\r\nPlease examine [this interface](/api/headers#IHeaderRepositoryCache) for details.\r\n\r\nCache allows to store header sizes between multiple repositories. Useful for cases when you have rapidly\r\nchanging, dynamic repositories or when you have some different and similar header structures.\r\n\r\nIn this example we are using global cache, so you can edit table or column size, navigate to different\r\npage and return back here. Also, we do not store column and row changes in change history here.\r\n\r\n```app.example\r\n{\r\n    "main": "repository-cache.tsx",\r\n    "files": [\r\n        ["repository-cache.tsx", "javascript", "main.tsx"],\r\n        ["autosizing-grid.tsx", "javascript"],\r\n        ["resizing-grid.tsx", "javascript"],\r\n        ["editable-grid.tsx", "javascript"],\r\n        ["style.ts", "javascript"],\r\n        ["style.scss", "css"]\r\n    ]\r\n}\r\n```\r\n'},function(e,r){e.exports='# Grouped headers\n\n```app.example\n{\n    "main": "grouped-headers-grid.tsx",\n    "files": [\n        ["grouped-headers-grid.tsx", "javascript", "main.tsx"]\n    ]\n}\n```\n'},function(e,r){e.exports='# Expand and collapse headers\n\n```app.example\n{\n    "main": "expand-collapse-grid.tsx",\n    "files": [\n        ["expand-collapse-grid.tsx", "javascript", "main.tsx"]\n    ]\n}\n```\n'},function(e,r){e.exports='# Grid component\r\n\r\nGrid is a low level React component that provides ability to show and position tabular data.\r\nIt doesn\'t implement full Excel-like spreadsheet features but provides some API.\r\n\r\nCore feature of this component is to virtualize tabular data, show it and its related headers.\r\nComponent contains some keyboard shortcuts for navigating, editing and copy-pasting.\r\nHowever, component do not copy-paste data itself, but provides api for that.\r\n\r\nComponent does not contain any theme but implements positioning inline styles.\r\nYou can provide your custom CSS class names and inline styles for every component of the Grid.\r\n\r\nComponent by default has `width: 100%, height: 100%` style, so you can put Grid inside fixed size component\r\nor provide class name or CSS style. Grid autosizes itself.\r\n\r\n## Prop types\r\n| Property name | Type | Required? | Description |\r\n|:---|:---|:---:|:---|\r\n|tabIndex|number||Root component tab index attribute. Default = -1.|\r\n|preserveScrollbars|boolean||Always show scrollbars. Otherwise it will be automatically hidden. Defailt is `false`.|\r\n|repository|[HeaderRepository](/api/headers)|✓|Read [this](/api/headers) article for details.|\r\n|data|any||Data source. Not used directly, only passed to all other grid properties. Can be any type.|\r\n|readOnly|boolean||Set Grid to readonly mode.|\r\n|overscanRows<br>overscanColumns|number||Grid renders only exact amount of row and columns that fits into viewport by default. These settings can expand this range.|\r\n|theme|[IGridTheme](#IGridTheme)||Grid theme. Used to define class names and styles for grid parts, also provided to header and cell renderers.|\r\n|selection|[IGridSelection\\[\\]](#IGridSelection)||Controlled selection.|\r\n|active|[IGridAddress](#IGridAddress)||Controlled active cell.|\r\n\r\n## Prop handlers\r\nAll prop handlers implement this interface:\r\n```typescript\r\nonName(e: EventType) => (JSX.Element | void)\r\n```\r\n#### Renderers\r\nEvery callback must return `JSX.Element` type.\r\n\r\n| Property name | Event type | Required? | Description |\r\n|:---|:---|:---:|:---|\r\n|onRenderCell|[ICellRendererEvent](#ICellRendererEvent)|✓|Cell renderer.|\r\n|onRenderHeader|[IHeaderRendererEvent](#IHeaderRendererEvent)|✓|Header renderer.|\r\n|onRenderHeaderCorner|||Header corner (top left) renderer.|\r\n|onRenderSelection|[ISelectionRendererEvent](#ISelectionRendererEvent)|✓|User\'s selection renderer. [Example](/examples/resizing).|\r\n|onRenderEditor|[ICellEditorEvent](#ICellEditorEvent)||Editor renderer. See [this](/api/editor) article for details.|\r\n|onRenderResizer|[IResizerRenderEvent](#IResizerRenderEvent)||Resizer renderer. [Example](/examples/resizing).|\r\n\r\n#### Other\r\nAll other optional callbacks.\r\n\r\n| Property name | Event type | Description |\r\n|:---|:---|:---|:---|\r\n|onAutoMeasure|[ICellsMeasureEvent](#ICellsMeasureEvent)|Auto measure callback. Read [this](/examples/autosizing) article for details.|\r\n|onSpace|[IGridSpaceEvent](#IGridSpaceEvent)|Called when space bar is pressed. Useful to manage cells which rendered as checkboxes. Header read only check is not applied here.|\r\n|onRemove|[IGridRemoveEvent](#IGridRemoveEvent)|Called when `CMD`+`DELETE` is pressed. Remove records here. Header read only check is not applied here.|\r\n|onNullify|[IGridNullifyEvent](#IGridNullifyEvent)|Called when `DELETE` key is pressed. Remove values here.|\r\n|onCopy|[IGridCopyEvent](#IGridCopyEvent)|Callback used for copying cells. Read [copy-paste](/examples/copy-and-paste) article for details. |\r\n|onPaste|[IGridPasteEvent](#IGridPasteEvent)|Callback used for pasting cells. Read [copy-paste](/examples/copy-and-paste) article for details. |\r\n|onRightClick|[IGridCellRightClickEvent](#IGridCellRightClickEvent)|Called when right click pressed on cell.|\r\n|onHeaderRightClick|[IGridHeaderRightClickEvent](#IGridHeaderRightClickEvent)|Called when right click pressed on header.|\r\n|onUpdate|[IGridUpdateEvent](#IGridUpdateEvent)|Called when editor changed cell\'s value. Update data source here.|\r\n|onActiveChanged|[IGridActiveChangeEvent](#IGridActiveChangeEvent)|Called when active cell (cursor) is changed.|\r\n|onSelectionChanged|[IGridSelectionChangeEvent](#IGridSelectionChangeEvent)|Called when user\'s selection is changed.|\r\n|onHeaderResize|[IGridResizeCombinedEvent](#IGridResizeCombinedEvent)|Called when headers were resized (by autosize event or manually).|\r\n|onReadOnly|[IGridReadOnlyEvent](#IGridReadOnlyEvent)|Checks if current cell is readonly. If returns true, editing of that cell will be forbidden. Header\'s `$readOnly` property will not be used.|\r\n\r\n## Class methods\r\n| Method | Description |\r\n|:---|:---|:---|\r\n|`scrollTo(cell: { column?: number, row?: number })`|Scroll to specific column, row or cell.|\r\n|`openEditor(cell: { column? number, row: number })`|Opens editor in this cell.|\r\n|`closeEditor(commit: boolean, callback?: () => void)`|Close opened editor.<br>- `commit` parameter defines if updated value must be committed to data source.<br>- optional `callback` called after editor is closed and grid rendered with new state.|\r\n|`updateSelection(event: { active?: IGridAddress, selection?: IGridSelection[] }, callback?: () => void)`|Update selection or/and active cell. Callback called after internal state was updated.|\r\n\r\n## Types\r\n\r\n#### <a name="IGridAddress"></a>\r\n```typescript\r\ninterface IGridAddress {\r\n    row: number;\r\n    column: number;\r\n}\r\n```\r\n\r\n#### <a name="IGridSelection"></a>\r\n```typescript\r\ninterface IGridSelection {\r\n    row: number;\r\n    column: number;\r\n    width: number;\r\n    height: number;\r\n}\r\n```\r\n\r\n#### <a name="IGridTheme"></a>\r\n```typescript\r\ninterface IGridTheme {\r\n    classNameGrid?: string;\r\n    classNameGridCorner?: string;\r\n    classNameGridRows?: string;\r\n    classNameGridColumns?: string;\r\n    classNameScrollView?: string;\r\n\r\n    styleGrid?: React.CSSProperties;\r\n    styleGridCorner?: React.CSSProperties;\r\n    styleGridRows?: React.CSSProperties;\r\n    styleGridColumns?: React.CSSProperties;\r\n\r\n    [key: string]: any;\r\n}\r\n```\r\n\r\n#### <a name="ICellRendererEvent"></a>\r\n```typescript\r\ninterface ICellRendererEvent {\r\n    // view row index\r\n    row: number;\r\n    // view column index\r\n    column: number;\r\n    // row header object\r\n    rowHeader: IHeader;\r\n    // column header object\r\n    columnHeader: IHeader;\r\n    // data source\r\n    data: any;\r\n    // active cell flag\r\n    active: boolean;\r\n    // positioning style, must be applied to rendering element\r\n    style: React.CSSProperties;\r\n    // grid theme object\r\n    theme: IGridTheme;\r\n}\r\n```\r\n\r\n#### <a name="IHeaderRendererEvent"></a>\r\n```typescript\r\ninterface IHeaderRendererEvent {\r\n    // header type (HeaderType.Row or HeaderType.Column)\r\n    type: HeaderType;\r\n    // cell in selection flag\r\n    selection: boolean;\r\n    // positioning style, must be applied to rendering element\r\n    style: React.CSSProperties;\r\n    // current header object\r\n    header: IHeader;\r\n    // this header is parent header flag\r\n    parent: boolean;\r\n    // view index (row or column, -1 if parent)\r\n    viewIndex: number;\r\n    // parent header object\r\n    parentHeader: IHeader;\r\n    // grid theme object\r\n    theme: IGridTheme;\r\n}\r\n```\r\n\r\n#### <a name="ISelectionRendererEvent"></a>\r\n```typescript\r\ninterface ISelectionRendererEvent {\r\n    // JSX key attribute, must be applied to rendering element\r\n    key: number;\r\n    // positioning style, must be applied to rendering element\r\n    style: React.CSSProperties;\r\n    // active cell selection flag, usually this is selection with border and no background\r\n    active: boolean;\r\n    // grid in edit mode flag, don\'t apply selection background if `true`\r\n    edit: boolean;\r\n    // grid theme object\r\n    theme: IGridTheme;\r\n}\r\n```\r\n\r\n#### <a name="ICellEditorEvent"></a>\r\n```typescript\r\ninterface ICellEditorEvent {\r\n    row: number;\r\n    column: number;\r\n    rowHeader: IHeader;\r\n    columnHeader: IHeader;\r\n    data: any;\r\n    active: boolean;\r\n    style: React.CSSProperties;\r\n    theme: IGridTheme;\r\n    // called by rendered editor when grid should close editor\r\n    close: (commit: boolean) => void;\r\n    // called by rendered editor when grid should update value\r\n    update: (nextValue: any) => void;\r\n}\r\n```\r\n\r\n#### <a name="IResizerRenderEvent"></a>\r\n```typescript\r\ninterface IResizerRenderEvent {\r\n    type: \'level\' | \'header\';\r\n    orientation: \'horizontal\' | \'vertical\';\r\n    resizer: \'initial\' | \'changed\';\r\n    style: React.CSSProperties;\r\n    theme: IGridTheme;\r\n}\r\n```\r\n\r\n#### <a name="ICellsMeasureEvent"></a>\r\n```typescript\r\ninterface ICellRenderBaseEvent {\r\n    row: number;\r\n    column: number;\r\n    rowHeader: IHeader;\r\n    columnHeader: IHeader;\r\n}\r\n\r\ninterface IHeaderMeasure {\r\n    index: number;\r\n    type: HeaderType;\r\n    level: number;\r\n    header: IHeader;\r\n}\r\n\r\ninterface ICellMeasureResult {\r\n    row: number;\r\n    column: number;\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\ninterface IHeaderMeasureResult {\r\n    header: IHeader;\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\ninterface IMeasureResult {\r\n    cells?: ICellMeasureResult[];\r\n    headers?: IHeaderMeasureResult[];\r\n}\r\n\r\ninterface ICellsMeasureEvent {\r\n    cells: ICellRenderBaseEvent[];\r\n    headers: IHeaderMeasure[];\r\n    data: any;\r\n    callback: (result: IMeasureResult) => void;\r\n}\r\n```\r\n\r\n#### <a name="IGridSpaceEvent"></a>\r\n```typescript\r\ninterface IGridSpaceEvent {\r\n    cells: IGridAddress[];\r\n}\r\n```\r\n\r\n#### <a name="IGridRemoveEvent"></a>\r\n```typescript\r\ninterface IGridRemoveEvent {\r\n    rows: number[];\r\n    columns: number[];\r\n}\r\n```\r\n\r\n#### <a name="IGridNullifyEvent"></a>\r\n```typescript\r\ninterface IGridNullifyEvent {\r\n    cells: IGridAddress[];\r\n}\r\n```\r\n\r\n#### <a name="IGridCopyEvent"></a>\r\n```typescript\r\ninterface IGridCopyEvent {\r\n    cells: IGridAddress[];\r\n    data: any;\r\n    repository: HeaderRepository;\r\n    // This flag shows, that cells must be copied with headers\r\n    withHeaders: boolean;\r\n    // Focus grid callback\r\n    focus: () => void;\r\n}\r\n```\r\n\r\n#### <a name="IGridPasteEvent"></a>\r\n```typescript\r\ninterface IGridPasteEvent {\r\n    repository: HeaderRepository;\r\n    data: any;\r\n    target: IGridAddress;\r\n}\r\n```\r\n\r\n#### <a name="IGridCellRightClickEvent"></a>\r\n```typescript\r\ninterface IGridCellRightClickEvent {\r\n    cell: IGridAddress;\r\n    event: React.MouseEvent<HTMLElement>;\r\n    /** Select current cell. */\r\n    select: () => void;\r\n    /** Right click was inside any selection. */\r\n    inside: boolean;\r\n}\r\n```\r\n\r\n#### <a name="IGridHeaderRightClickEvent"></a>\r\n```typescript\r\ninterface IGridHeaderRightClickEvent {\r\n    header: IHeader;\r\n    event: React.MouseEvent<HTMLElement>;\r\n}\r\n```\r\n\r\n#### <a name="IGridUpdateEvent"></a>\r\n```typescript\r\ninterface IGridUpdateEvent {\r\n    cell: IGridAddress;\r\n    value: any;\r\n}\r\n```\r\n\r\n#### <a name="IGridActiveChangeEvent"></a>\r\n```typescript\r\ninterface IGridActiveChangeEvent {\r\n    previous: IGridAddress;\r\n    active: IGridAddress;\r\n}\r\n```\r\n\r\n#### <a name="IGridSelectionChangeEvent"></a>\r\n```typescript\r\ninterface IGridSelectionChangeEvent {\r\n    previous: IGridSelection[];\r\n    active: IGridSelection[];\r\n}\r\n```\r\n\r\n#### <a name="TGridReadOnlyEventSource"></a>\r\n```typescript\r\ntype TGridReadOnlyEventSource = \'editor\' | \'paste\' | \'nullify\' | \'remove\';\r\n```\r\n\r\n#### <a name="IGridReadOnlyEvent"></a>\r\n```typescript\r\ninterface IGridReadOnlyEvent {\r\n    column: IHeader;\r\n    row: IHeader;\r\n    source: TGridReadOnlyEventSource;\r\n}\r\n```\r\n\r\n#### <a name="IGridResizeCombinedEvent"></a>\r\n```typescript\r\ninterface IGridResizeHeaderLevel {\r\n    type: HeaderType;\r\n    level: number;\r\n    size: number;\r\n}\r\n\r\ninterface IGridResizeHeader {\r\n    type: HeaderType;\r\n    header: IHeader;\r\n    size: number;\r\n}\r\n\r\ninterface IGridResizeCombinedEvent {\r\n    levels?: IGridResizeHeaderLevel[];\r\n    headers?: IGridResizeHeader[];\r\n    behavior: \'auto\' | \'manual\' | \'reset\';\r\n}\r\n```'},function(e,r){e.exports='# Editor component\r\n\r\nEditor is a special component that rendered instead of cell.\r\nEditors rendered by special renderer-prop, which has this interface:\r\n```typescript\r\ninterface ICellEditorEvent {\r\n    row: number;\r\n    column: number;\r\n    rowHeader: IHeader;\r\n    columnHeader: IHeader;\r\n    source: any;\r\n    active: boolean;\r\n    style: React.CSSProperties;\r\n    theme: IGridTheme;\r\n    close: (commit: boolean) => void;\r\n    update: (nextValue: any) => void;\r\n}\r\n\r\nonRenderEditor(event: ICellEditorEvent) => JSX.Element;\r\n```\r\n\r\nThere are two main callbacks provided in this event:\r\n- `update` Editor must update value with this callback. However, grid will not update data source\r\nat this time. It will just mark that this cell was updated by editor. User still can discard editing\r\nwith `ESC` key and updated value will be ignored. Editor can call this callback at any time.\r\n- `close` Usually Grid handles closing editor by listening `ESC`, `ENTER`, `TAB` and other keys.\r\nHowever, in case when editor stops propagation for this events you may need to close editor manually.\r\nYou can close editor and tell Grid to ignore updated value or apply it (commit=true).\r\n\r\nUsing editor example:\r\n```typescript\r\nimport Editor from \'./simple-editor\';\r\n\r\n// ...\r\n\r\n<Grid\r\n    // ...\r\n    onRenderEditor={({ style, column, row, update, source }) => {\r\n        const initialValue = this.renderCellValue(column, row, source);\r\n\r\n        return (\r\n            <div style={style}>\r\n                <Editor initialValue={initialValue} update={update} />\r\n            </div>\r\n        );\r\n    }}\r\n/>\r\n```\r\n\r\nYou can see full example [here](/examples/editable). This is an example of simple text editor:\r\n\r\n```app.file\r\n{\r\n    "file": "simple-editor.tsx",\r\n    "language": "typescript"\r\n}\r\n```'},function(e,r){e.exports="# Headers\r\nImmutable container. Can be used in Redux store. Contains all headers, it's sizes, positions, filter condition etc.\r\nBecause of immutable nature can be easily used for undo-redo. See [this](/examples/editable) example for details.\r\n\r\nAll headers **must** implement [IHeader](#IHeader) interface.\r\nImportant note about `$id` property - this is a unique header identifier for all headers.\r\nIf it is undefined - it will be set by `HeaderRepository` as mutable operation. This is the only mutable operation.\r\n\r\nWhen it is possible to use just view row and column indices to identify cells in grid, it is strongly\r\nrecommended to use custom identifiers in headers for that, like `header.rowIndex` and `header.columnIndex`.\r\n\r\n## Prop types\r\n\r\n| Property name | Type | Required? | Description |\r\n|:---|:---|:---:|:---|\r\n|cache|[IHeaderRepositoryCache](#IHeaderRepositoryCache)||External storage for header and level sizes. Mutable behavior is expected.|\r\n|rows|[IHeader](#IHeader)|✓|Row headers.|\r\n|columns|[IHeader](#IHeader)|✓|Columns headers.|\r\n|columnWidth|number|✓|Default column width.|\r\n|rowHeight|number|✓|Default row height.|\r\n|headersHeight|number|✓|Default height of column headers.|\r\n|headersWidth|number|✓|Default width of row headers.|\r\n|filter|[HeaderFilter](#HeaderFilter)||Headers filter (both rows and columns).|\r\n\r\n## Getters\r\n| Property name | Type | Description |\r\n|:---|:---|:---|\r\n|columns|[IHeader[]](#IHeader)|Array of [IHeader](#IHeader). Leaves of header tree. Array index equals view index.|\r\n|rows|[IHeader[]](#IHeader)|Array of [IHeader](#IHeader). Leaves of header tree. Array index equals view index.|\r\n\r\n## Class methods\r\n| Method | Description |\r\n|:---|:---|:---|\r\n|`getHeader(id: number | string): IHeader`|Return [IHeader](#IHeader) by $id.|\r\n|`getHeaderType(h: IHeader): HeaderType`|Return header's [HeaderType](#HeaderType).|\r\n|`getViewIndex(h: IHeader): number`|Return header's view index (row for row header and column for column header).|\r\n|`getSize(h: IHeader): number`|Return header's size depending by it's `$collapsed property`.|\r\n|`getPosition(h: IHeader): number`|Return header's position in `px`.|\r\n|`getLevel(h: IHeader): number`|Return header's level. Needs for grouped headers.|\r\n|`getParent(h: IHeader): IHeader`|Return header's parent.|\r\n|`getHeaderLeaves(h: IHeader): IHeader[]`|Return list of header's leaves.|\r\n|`updateFilter(filter: HeaderFilter): HeaderRepository`|Return new immutable repository with filtered headers.|\r\n|`updateHeaders(updates): HeaderRepository`|Go [here](#updateHeaders) for details.|\r\n|`resizeHeaders(props): HeaderRepository`|Go [here](#resizeHeaders) for details.|\r\n\r\n## Class methods details\r\n#### <a name=\"updateHeaders\"></a> updateHeaders\r\n```typescript\r\nupdateHeaders(\r\n    updates: {\r\n        header: IHeader;\r\n        update: IHeader;\r\n    }[]\r\n): HeaderRepository\r\n```\r\nUpdate headers. Use query array to define `header` that's must be updated and new `update` state for it.\r\nReturn new immutable repository with updated headers.\r\n\r\n#### <a name=\"resizeHeaders\"></a> resizeHeaders\r\n```typescript\r\nresizeHeaders(\r\n    props: {\r\n        headers: {\r\n            header: IHeader;\r\n            size: number;\r\n        }[];\r\n        clamp?: HeaderClampFunction;\r\n        behavior?: HeaderResizeBehavior;\r\n    }\r\n): HeaderRepository\r\n```\r\nReturns new immutable repository with resized headers.\r\n- `headers` property must contain array of [IHeader](#IHeader) that needs to be resized.\r\n- Optional [HeaderClampFunction](#HeaderClampFunction) used to limit header's new size.\r\n- Optional [HeaderResizeBehavior](#HeaderResizeBehavior) defines how header will be resized. This affects autosizing behavior.\r\n\r\n## Types\r\n#### <a name=\"HeaderType\"></a>\r\n```typescript\r\nenum HeaderType {\r\n    Row = 1,\r\n    Column\r\n}\r\n```\r\n\r\n#### <a name=\"HeaderResizeBehavior\"></a>\r\n```typescript\r\ntype HeaderResizeBehavior = 'auto' | 'manual' | 'reset';\r\n```\r\n\r\n#### <a name=\"HeaderFilter\"></a>\r\n```typescript\r\ntype HeaderFilter = (props: { header: IHeader, type: HeaderType }) => boolean;\r\n```\r\n\r\n#### <a name=\"HeaderClampFunction\"></a>\r\n```typescript\r\ntype HeaderClampFunction = (props: { header: IHeader, type: HeaderType, size: number }) => number;\r\n```\r\n\r\n#### <a name=\"IHeader\"></a>\r\n```typescript\r\ninterface IHeader {\r\n    /** Unique header identifier for **all** headers in repository.\r\n     * Do not edit. Assigned by repository if not provided.\r\n     * Can be assigned once before used. */\r\n    $id?: number | string;\r\n    /** List of children headers. */\r\n    $children?: IHeader[];\r\n    /** Size of current header. */\r\n    $size?: number;\r\n    /** Size of current header when collapsed. */\r\n    $sizeCollapsed?: number;\r\n    /** Filter flag. */\r\n    $collapsed?: boolean;\r\n    /** Marks this column or row read only. */\r\n    $readOnly?: boolean;\r\n    /** Deleting or pasting is allowed, but editor cannot be opened. */\r\n    $noEditor?: boolean;\r\n\r\n    /** Any other custom properties. */\r\n    [prop: string]: any;\r\n}\r\n```\r\n\r\n#### <a name=\"IHeaderRepositoryCache\"></a>\r\n```typescript\r\ninterface IHeaderRepositoryCache {\r\n    /** Set size to header. Note if header in $collapsed = true state. */\r\n    getHeaderSize(header: IHeader, type: HeaderType): number;\r\n    /** Get size assigned to header. Note if header in $collapsed = true state. */\r\n    setHeaderSize(size: number, header: IHeader, type: HeaderType): void;\r\n    /** Set header level size. */\r\n    getLevelSize(level: number, type: 'top' | 'left'): number;\r\n    /** Get header level size. */\r\n    setLevelSize(size: number, level: number, type: 'top' | 'left'): void;\r\n    /** Set total number of levels. */\r\n    getLevels(type: 'top' | 'left'): number;\r\n    /** Get total number of levels. */\r\n    setLevels(levels: number, type: 'top' | 'left'): void;\r\n    /** Set total size of all levels. */\r\n    getOffset(type: 'top' | 'left'): number;\r\n    /** Get total size of all levels. */\r\n    setOffset(size: number, type: 'top' | 'left'): void;\r\n    /** Get header autosize lock. If true - header will not be automatically expanded by cells content. */\r\n    getHeaderLock(header: IHeader, type: HeaderType): boolean;\r\n    /** Get header autosize lock. If true - header will not be automatically expanded by cells content. */\r\n    setHeaderLock(locked: boolean, header: IHeader, type: HeaderType): void;\r\n    /** Get level autosize lock. If true - level will not be automatically expanded by headers content. */\r\n    getLevelLock(level: number, type: HeaderType): boolean;\r\n    /** Set level autosize lock. If true - level will not be automatically expanded by headers content. */\r\n    setLevelLock(locked: boolean, level: number, type: HeaderType): void;\r\n}\r\n```"},function(e,r){e.exports='# Clipboard controller\r\nSpecial controller that must be used for copy-paste functionality.\r\nMethods of this class must be provided to Grid as event handlers.\r\n\r\nGo [here](/examples/copy-and-paste) for example.\r\n\r\n## Constructor properties\r\n| Property name | Required? | Description |\r\n|:---|:---:|:---|\r\n|`onInvalidSelection: () => void`||Called when user tries to copy selection that cannot be merged to valid table.|\r\n|`renderCell: (e: ICopyPasteRenderCellEvent) => string`|✓|Called on copy event. Renders cell to clipboard string.|\r\n|`renderHeader: (e: ICopyPasteRenderHeaderEvent) => string`|✓|Called on copy event. Renders header to clipboard string.|\r\n|`clipboardParser: (data: DataTransfer) => string[][]`|✓|Called on paste event. Must get table from `DataTransfer` object. Read [this](https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer) article for details about this object.|\r\n|`cellParser: (e: ICopyPasteParseEvent) => any`|✓|Called on paste event. Returns inserting value and cell address. Useful when you show one value but store another.|\r\n|`onCopy: (e: ICopyPasteResultEvent) => void`|✓|Called on copy event. Returns rendered table. `focus` callback used to return focus to Grid component when copying to clipboard is finished. Copy stringified table to clipboard here.|\r\n|`onPaste: (e: ICopyPasteUpdateEvent) => void`|✓|Called on paste event. Returns parsed changes. Update Grid data here.|\r\n\r\n## Class methods\r\n| Method | Description |\r\n|:---|:---|:---|\r\n|`onCopy (event: IGridCopyEvent)`|Bound method. You must pass this method to Grid as onCopy event handler.|\r\n|`onPaste (event: IGridPasteEvent)`|Bound method. You must pass this method to Grid as onPaste event handler.|\r\n\r\n## Types\r\n#### <a name="ICopyPasteRenderCellEvent"></a>\r\n```typescript\r\ninterface ICopyPasteRenderCellEvent {\r\n    cell: IGridAddress;\r\n    source: any;\r\n    repository: HeaderRepository;\r\n}\r\n```\r\n\r\n#### <a name="ICopyPasteRenderHeaderEvent"></a>\r\n```typescript\r\ninterface ICopyPasteRenderHeaderEvent {\r\n    header: IHeader;\r\n    type: HeaderType;\r\n}\r\n```\r\n\r\n#### <a name="ICopyPasteResultEvent"></a>\r\n```typescript\r\ninterface ICopyPasteResultEvent {\r\n    table: any[][];\r\n    focus: () => void;\r\n}\r\n```\r\n\r\n#### <a name="ICopyPasteParseEvent"></a>\r\n```typescript\r\ninterface ICopyPasteParseEvent {\r\n    row: number;\r\n    column: number;\r\n    value: string;\r\n}\r\n```\r\n\r\n#### <a name="ICopyPasteUpdateEvent"></a>\r\n```typescript\r\ninterface ICopyPasteUpdateEvent {\r\n    changes: {\r\n        row: number;\r\n        column: number;\r\n        value: any;\r\n    }[];\r\n}\r\n```'},function(e,r){}],[96]);